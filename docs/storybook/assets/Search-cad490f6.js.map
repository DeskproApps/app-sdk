{"version":3,"file":"Search-cad490f6.js","sources":["../../../src/ui/components/Search/Search.tsx"],"sourcesContent":["import { useState, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport { faSearch, faTimes, faSpinner } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Input, IconButton, Label } from \"@deskpro/deskpro-ui\";\nimport type { FC, ChangeEvent } from \"react\";\nimport type { AnyIcon, InputProps } from \"@deskpro/deskpro-ui\";\n\nexport type Props = {\n  label?: string,\n  onChange?: (search: string) => void,\n  disabled?: boolean,\n  required?: boolean,\n  isFetching?: boolean,\n  marginBottom?: number,\n  inputProps?: InputProps,\n};\n\nconst SearchContainer = styled.div`\n  [data-dp-name=Input] {\n    display: flex;\n    margin-bottom: 10px;\n  }\n`;\n\nconst Search: FC<Props> = ({\n  label,\n  onChange,\n  disabled = false,\n  required = false,\n  isFetching = false,\n  marginBottom = 10,\n  inputProps = {},\n}) => {\n  const [search, setSearch] = useState<string>(\"\");\n\n  const onChangeSearch = useCallback(({ target: { value: q }}: ChangeEvent<HTMLInputElement>) => {\n    setSearch(q);\n    onChange && onChange(q);\n  }, [onChange]);\n\n  const onClearSearch = useCallback(() => {\n    setSearch(\"\");\n    onChange && onChange(\"\");\n  }, [onChange]);\n\n  return (\n    <SearchContainer>\n      <Label\n        required={required}\n        label={label}\n        htmlFor=\"search\"\n        style={{ marginBottom }}\n      >\n        <Input\n          id=\"search\"\n          name=\"search\"\n          value={search}\n          variant=\"inline\"\n          inputsize=\"small\"\n          disabled={disabled}\n          onChange={onChangeSearch}\n          placeholder=\"Search\"\n          leftIcon={isFetching\n            ? <FontAwesomeIcon icon={faSpinner as never} spin/>\n            : faSearch as AnyIcon\n          }\n          rightIcon={(\n            <IconButton\n              minimal\n              data-testid=\"search-reset\"\n              icon={faTimes as never}\n              onClick={onClearSearch}\n            />\n          )}\n          {...inputProps}\n        />\n      </Label>\n    </SearchContainer>\n  );\n}\n\nexport { Search };\n"],"names":["SearchContainer","styled","Search","label","onChange","disabled","required","isFetching","marginBottom","inputProps","search","setSearch","useState","onChangeSearch","useCallback","q","onClearSearch","jsx","Label","Input","FontAwesomeIcon","faSpinner","faSearch","IconButton","faTimes"],"mappings":"oMAkBA,MAAAA,EAAAC,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOAC,EAAA,CAAA,CAA2B,MAAAC,EACzB,SAAAC,EACA,SAAAC,EAAA,GACW,SAAAC,EAAA,GACA,WAAAC,EAAA,GACE,aAAAC,EAAA,GACE,WAAAC,EAAA,CAAA,CAEjB,IAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EAEAC,EAAAC,EAAAA,YAAA,CAAA,CAAA,OAAA,CAAA,MAAAC,CAAA,KAAA,CACEJ,EAAAI,CAAA,EACAX,GAAAA,EAAAW,CAAA,CAAsB,EAAA,CAAAX,CAAA,CAAA,EAGxBY,EAAAF,EAAAA,YAAA,IAAA,CACEH,EAAA,EAAA,EACAP,GAAAA,EAAA,EAAA,CAAuB,EAAA,CAAAA,CAAA,CAAA,EAGzB,OAAAa,EAAAjB,EAAA,CAAA,SAAAiB,EAEIC,EAAC,CAAA,SAAAZ,EACC,MAAAH,EACA,QAAA,SACQ,MAAA,CAAA,aAAAK,CAAA,EACc,SAAAS,EAEtBE,EAAC,CAAA,GAAA,SACI,KAAA,SACE,MAAAT,EACE,QAAA,SACC,UAAA,QACE,SAAAL,EACV,SAAAQ,EACU,YAAA,SACE,SAAAN,EAAAU,EAAAG,EAAA,CAAA,KAAAC,EAAA,KAAA,EAAA,CAAA,EAAAC,EAGR,UAAAL,EAGFM,EAAC,CAAA,QAAA,GACQ,cAAA,eACK,KAAAC,EACN,QAAAR,CACG,CAAA,EACX,GAAAP,CAEE,CAAA,CACN,CAAA,CAAA,CAAA,CAIR"}