import{a as p,j as g,F as pe}from"./jsx-runtime-29545a09.js";import{s as dt,a0 as Y,S as Z}from"./SPA-0f542073.js";import{r as l}from"./index-76fb7be0.js";import"./index-d3ea75b5.js";import{O as Nt}from"./ObservedDiv-82caf37b.js";import"./_commonjsHelpers-de833af9.js";import"./index-9d475cdf.js";class D extends Error{constructor(e=!1){super(),this.interruptExecution=e,this.footprint=D.SharedFootPrint}static isFailure(e){return e!=null&&e.footprint===D.SharedFootPrint}}D.SharedFootPrint=Symbol("fast-check/PreconditionFailure");class ce{[Symbol.iterator](){return this}next(e){return{value:e,done:!0}}}ce.nil=new ce;function Et(){return ce.nil}function*At(t,e){for(const n of t)yield e(n)}function*Tt(t,e){for(const n of t)yield*e(n)}function*Ot(t,e){for(const n of t)e(n)&&(yield n)}function*Ft(t,e){for(let n=0;n<e;++n){const r=t.next();if(r.done)break;yield r.value}}function*Rt(t,e){let n=t.next();for(;!n.done&&e(n.value);)yield n.value,n=t.next()}function*Pt(t,e){for(let n=t.next();!n.done;n=t.next())yield n.value;for(const n of e)for(let r=n.next();!r.done;r=n.next())yield r.value}const Ie=Symbol.iterator;class f{static nil(){return new f(Et())}static of(...e){return new f(e[Ie]())}constructor(e){this.g=e}next(){return this.g.next()}[Ie](){return this.g}map(e){return new f(At(this.g,e))}flatMap(e){return new f(Tt(this.g,e))}dropWhile(e){let n=!1;function*r(s){(n||!e(s))&&(n=!0,yield s)}return this.flatMap(r)}drop(e){if(e<=0)return this;let n=0;function r(){return n++<e}return this.dropWhile(r)}takeWhile(e){return new f(Rt(this.g,e))}take(e){return new f(Ft(this.g,e))}filter(e){return new f(Ot(this.g,e))}every(e){for(const n of this.g)if(!e(n))return!1;return!0}has(e){for(const n of this.g)if(e(n))return[!0,n];return[!1,null]}join(...e){return new f(Pt(this.g,e))}getNthOrLast(e){let n=e,r=null;for(const s of this.g){if(n--===0)return s;r=s}return r}}function le(t){return new f(t)}const M=Symbol("fast-check/cloneMethod");function Q(t){return t!==null&&(typeof t=="object"||typeof t=="function")&&M in t&&typeof t[M]=="function"}function R(t){return Q(t)?t[M]():t}const Dt=Object.defineProperty;class d{constructor(e,n,r=void 0){this.value_=e,this.context=n,this.hasToBeCloned=r!==void 0||Q(e),this.readOnce=!1,this.hasToBeCloned?Dt(this,"value",{get:r!==void 0?r:this.getValue}):this.value=e}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[M]():(this.readOnce=!0,this.value_):this.value_}}const ke=Object.assign;class I{filter(e){return new Vt(this,e)}map(e,n){return new Lt(this,e,n)}chain(e){return new jt(this,e)}noShrink(){return new Wt(this)}noBias(){return new Bt(this)}}class jt extends I{constructor(e,n){super(),this.arb=e,this.chainer=n}generate(e,n){const r=e.clone(),s=this.arb.generate(e,n);return this.valueChainer(s,e,r,n)}canShrinkWithoutContext(e){return!1}shrink(e,n){return this.isSafeContext(n)?(n.stoppedForOriginal?f.nil():this.arb.shrink(n.originalValue,n.originalContext).map(r=>this.valueChainer(r,n.clonedMrng.clone(),n.clonedMrng,n.originalBias))).join(n.chainedArbitrary.shrink(e,n.chainedContext).map(r=>{const s=ke(ke({},n),{chainedContext:r.context,stoppedForOriginal:!0});return new d(r.value_,s)})):f.nil()}valueChainer(e,n,r,s){const i=this.chainer(e.value_),a=i.generate(n,s),o={originalBias:s,originalValue:e.value_,originalContext:e.context,stoppedForOriginal:!1,chainedArbitrary:i,chainedContext:a.context,clonedMrng:r};return new d(a.value_,o)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalBias"in e&&"originalValue"in e&&"originalContext"in e&&"stoppedForOriginal"in e&&"chainedArbitrary"in e&&"chainedContext"in e&&"clonedMrng"in e}}class Lt extends I{constructor(e,n,r){super(),this.arb=e,this.mapper=n,this.unmapper=r,this.bindValueMapper=s=>this.valueMapper(s)}generate(e,n){const r=this.arb.generate(e,n);return this.valueMapper(r)}canShrinkWithoutContext(e){if(this.unmapper!==void 0)try{const n=this.unmapper(e);return this.arb.canShrinkWithoutContext(n)}catch{return!1}return!1}shrink(e,n){if(this.isSafeContext(n))return this.arb.shrink(n.originalValue,n.originalContext).map(this.bindValueMapper);if(this.unmapper!==void 0){const r=this.unmapper(e);return this.arb.shrink(r,void 0).map(this.bindValueMapper)}return f.nil()}mapperWithCloneIfNeeded(e){const n=e.value,r=this.mapper(n);return e.hasToBeCloned&&(typeof r=="object"&&r!==null||typeof r=="function")&&Object.isExtensible(r)&&!Q(r)&&Object.defineProperty(r,M,{get:()=>()=>this.mapperWithCloneIfNeeded(e)[0]}),[r,n]}valueMapper(e){const[n,r]=this.mapperWithCloneIfNeeded(e),s={originalValue:r,originalContext:e.context};return new d(n,s)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalValue"in e&&"originalContext"in e}}class Vt extends I{constructor(e,n){super(),this.arb=e,this.refinement=n,this.bindRefinementOnValue=r=>this.refinementOnValue(r)}generate(e,n){for(;;){const r=this.arb.generate(e,n);if(this.refinementOnValue(r))return r}}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)&&this.refinement(e)}shrink(e,n){return this.arb.shrink(e,n).filter(this.bindRefinementOnValue)}refinementOnValue(e){return this.refinement(e.value)}}class Wt extends I{constructor(e){super(),this.arb=e}generate(e,n){return this.arb.generate(e,n)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,n){return f.nil()}noShrink(){return this}}class Bt extends I{constructor(e){super(),this.arb=e}generate(e,n){return this.arb.generate(e,void 0)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,n){return this.arb.shrink(e,n)}noBias(){return this}}const pt=Function.prototype.apply,te=Symbol("apply");function Gt(t){try{return t.apply}catch{return}}function Ut(t,e,n){const r=t;r[te]=pt;const s=r[te](e,n);return delete r[te],s}function k(t,e,n){return Gt(t)===pt?t.apply(e,n):Ut(t,e,n)}const B=typeof Error<"u"?Error:void 0,$t=typeof String<"u"?String:void 0,Ce=Array.prototype.indexOf,Me=Array.prototype.join,Ne=Array.prototype.map,Ee=Array.prototype.push,Ae=Array.prototype.slice;function zt(t){try{return t.indexOf}catch{return}}function Kt(t){try{return t.join}catch{return}}function qt(t){try{return t.map}catch{return}}function _t(t){try{return t.push}catch{return}}function Ht(t){try{return t.slice}catch{return}}function fe(t,...e){return zt(t)===Ce?t.indexOf(...e):k(Ce,t,e)}function Jt(t,...e){return Kt(t)===Me?t.join(...e):k(Me,t,e)}function P(t,e){return qt(t)===Ne?t.map(e):k(Ne,t,[e])}function b(t,...e){return _t(t)===Ee?t.push(...e):k(Ee,t,e)}function N(t,...e){return Ht(t)===Ae?t.slice(...e):k(Ae,t,e)}const Te=String.prototype.substring,Oe=String.prototype.padStart,Fe=String.prototype.charCodeAt;function Xt(t){try{return t.substring}catch{return}}function Yt(t){try{return t.padStart}catch{return}}function Zt(t){try{return t.charCodeAt}catch{return}}function A(t,...e){return Xt(t)===Te?t.substring(...e):k(Te,t,e)}function Qt(t,...e){return Yt(t)===Oe?t.padStart(...e):k(Oe,t,e)}function Re(t,e){return Zt(t)===Fe?t.charCodeAt(e):k(Fe,t,[e])}const Pe=Number.prototype.toString;function en(t){try{return t.toString}catch{return}}function tn(t,...e){return en(t)===Pe?t.toString(...e):k(Pe,t,e)}const nn=Object.prototype.hasOwnProperty;function rn(t,e){return k(nn,t,[e])}class sn{constructor(e){this.producer=e}[Symbol.iterator](){return this.it===void 0&&(this.it=this.producer()),this.it}next(){return this.it===void 0&&(this.it=this.producer()),this.it.next()}}function q(t){return new sn(t)}const mt=Array.isArray,an=Object.defineProperty;function gt(t,e){return an(t,M,{value:()=>{const n=[];for(let r=0;r!==e.length;++r)b(n,e[r].value);return gt(n,e),n}})}function xt(t){let e=!1;const n=[],r=[];for(let s=0;s!==t.length;++s){const i=t[s];e=e||i.hasToBeCloned,b(n,i.value),b(r,i.context)}return e&&gt(n,t),new d(n,r)}function on(t,e,n){const r=[],s=mt(n)?n:[];for(let i=0;i!==t.length;++i)b(r,q(()=>t[i].shrink(e[i],s[i]).map(a=>{const o=P(e,(u,h)=>new d(R(u),s[h]));return[...N(o,0,i),a,...N(o,i+1)]}).map(xt)));return f.nil().join(...r)}class un extends I{constructor(e){super(),this.arbs=e;for(let n=0;n!==e.length;++n){const r=e[n];if(r==null||r.generate==null)throw new Error(`Invalid parameter encountered at index ${n}: expecting an Arbitrary`)}}generate(e,n){const r=[];for(let s=0;s!==this.arbs.length;++s)b(r,this.arbs[s].generate(e,n));return xt(r)}canShrinkWithoutContext(e){if(!mt(e)||e.length!==this.arbs.length)return!1;for(let n=0;n!==this.arbs.length;++n)if(!this.arbs[n].canShrinkWithoutContext(e[n]))return!1;return!0}shrink(e,n){return on(this.arbs,e,n)}}function me(...t){return new un(t)}const hn=Math.log;function cn(t){return 2+~~(hn(t+1)*.4342944819032518)}let ln={};function j(){return ln}const de=Symbol("UndefinedContextPlaceholder");function De(t){return t.context!==void 0?t:t.hasToBeCloned?new d(t.value_,de,()=>t.value):new d(t.value_,de)}class L{constructor(e,n){this.arb=e,this.predicate=n;const{beforeEach:r=L.dummyHook,afterEach:s=L.dummyHook,asyncBeforeEach:i,asyncAfterEach:a}=j()||{};if(i!==void 0)throw B(`"asyncBeforeEach" can't be set when running synchronous properties`);if(a!==void 0)throw B(`"asyncAfterEach" can't be set when running synchronous properties`);this.beforeEachHook=r,this.afterEachHook=s}isAsync(){return!1}generate(e,n){const r=this.arb.generate(e,n!=null?cn(n):void 0);return De(r)}shrink(e){if(e.context===void 0&&!this.arb.canShrinkWithoutContext(e.value_))return f.nil();const n=e.context!==de?e.context:void 0;return this.arb.shrink(e.value_,n).map(De)}runBeforeEach(){this.beforeEachHook()}runAfterEach(){this.afterEachHook()}run(e,n){n||this.beforeEachHook();try{const r=this.predicate(e);return r==null||r===!0?null:{error:new B("Property failed by returning false"),errorMessage:"Error: Property failed by returning false"}}catch(r){return D.isFailure(r)?r:r instanceof B&&r.stack?{error:r,errorMessage:r.stack}:{error:r,errorMessage:$t(r)}}finally{n||this.afterEachHook()}}beforeEach(e){const n=this.beforeEachHook;return this.beforeEachHook=()=>e(n),this}afterEach(e){const n=this.afterEachHook;return this.afterEachHook=()=>e(n),this}}L.dummyHook=()=>{};function bt(t,e){for(var n=[],r=0;r!=e;++r)n.push(t.unsafeNext());return n}function fn(t,e){var n=t.clone(),r=bt(n,e);return[r,n]}function ge(t,e){for(var n=0;n!=e;++n)t.unsafeNext()}function dn(t,e){var n=t.clone();return ge(n,e),n}var pn=214013,mn=2531011,gn=4294967295,xn=(1<<31)-1,ne=function(t){return t*pn+mn&gn},re=function(t){return(t&xn)>>16},bn=function(){function t(e){this.seed=e}return t.prototype.clone=function(){return new t(this.seed)},t.prototype.next=function(){var e=new t(this.seed),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=ne(this.seed),n=re(e),r=ne(e),s=re(r);this.seed=ne(r);var i=re(this.seed),a=i+(s+(n<<15)<<15);return a|0},t}(),vn=function(t){return new bn(t)},Sn=function(){function t(e,n){this.states=e,this.index=n}return t.twist=function(e){for(var n=e.slice(),r=0;r!==t.N-t.M;++r){var s=(n[r]&t.MASK_UPPER)+(n[r+1]&t.MASK_LOWER);n[r]=n[r+t.M]^s>>>1^-(s&1)&t.A}for(var r=t.N-t.M;r!==t.N-1;++r){var i=(n[r]&t.MASK_UPPER)+(n[r+1]&t.MASK_LOWER);n[r]=n[r+t.M-t.N]^i>>>1^-(i&1)&t.A}var a=(n[t.N-1]&t.MASK_UPPER)+(n[0]&t.MASK_LOWER);return n[t.N-1]=n[t.M-1]^a>>>1^-(a&1)&t.A,n},t.seeded=function(e){var n=Array(t.N);n[0]=e;for(var r=1;r!==t.N;++r){var s=n[r-1]^n[r-1]>>>30;n[r]=Math.imul(t.F,s)+r|0}return n},t.from=function(e){return new t(t.twist(t.seeded(e)),0)},t.prototype.clone=function(){return new t(this.states,this.index)},t.prototype.next=function(){var e=new t(this.states,this.index),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.states[this.index];return e^=this.states[this.index]>>>t.U,e^=e<<t.S&t.B,e^=e<<t.T&t.C,e^=e>>>t.L,++this.index>=t.N&&(this.states=t.twist(this.states),this.index=0),e},t.N=624,t.M=397,t.R=31,t.A=2567483615,t.F=1812433253,t.U=11,t.S=7,t.B=2636928640,t.T=15,t.C=4022730752,t.L=18,t.MASK_LOWER=Math.pow(2,t.R)-1,t.MASK_UPPER=Math.pow(2,t.R),t}();function yn(t){return Sn.from(t)}var wn=function(){function t(e,n,r,s){this.s01=e,this.s00=n,this.s11=r,this.s10=s}return t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var e=new t(this.s01,this.s00,this.s11,this.s10),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.s00^this.s00<<23,n=this.s01^(this.s01<<23|this.s00>>>9),r=e^this.s10^(e>>>18|n<<14)^(this.s10>>>5|this.s11<<27),s=n^this.s11^n>>>18^this.s11>>>5,i=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=s,this.s10=r,i},t.prototype.jump=function(){var e=new t(this.s01,this.s00,this.s11,this.s10);return e.unsafeJump(),e},t.prototype.unsafeJump=function(){for(var e=0,n=0,r=0,s=0,i=[1667051007,2321340297,1548169110,304075285],a=0;a!==4;++a)for(var o=1;o;o<<=1)i[a]&o&&(e^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=e,this.s00=n,this.s11=r,this.s10=s},t}(),In=function(t){return new wn(-1,~t,t|0,0)},kn=function(){function t(e,n,r,s){this.s01=e,this.s00=n,this.s11=r,this.s10=s}return t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var e=new t(this.s01,this.s00,this.s11,this.s10),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.s00+this.s10|0,n=this.s10^this.s00,r=this.s11^this.s01,s=this.s00,i=this.s01;return this.s00=s<<24^i>>>8^n^n<<16,this.s01=i<<24^s>>>8^r^(r<<16|n>>>16),this.s10=r<<5^n>>>27,this.s11=n<<5^r>>>27,e},t.prototype.jump=function(){var e=new t(this.s01,this.s00,this.s11,this.s10);return e.unsafeJump(),e},t.prototype.unsafeJump=function(){for(var e=0,n=0,r=0,s=0,i=[3639956645,3750757012,1261568508,386426335],a=0;a!==4;++a)for(var o=1;o;o<<=1)i[a]&o&&(e^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=e,this.s00=n,this.s11=r,this.s10=s},t}(),Cn=function(t){return new kn(-1,~t,t|0,0)};function vt(t,e){if(t.sign!==e.sign)return xe(t,{sign:-e.sign,data:e.data});for(var n=[],r=0,s=t.data,i=e.data,a=s.length-1,o=i.length-1;a>=0||o>=0;--a,--o){var u=a>=0?s[a]:0,h=o>=0?i[o]:0,m=u+h+r;n.push(m>>>0),r=~~(m/4294967296)}return r!==0&&n.push(r),{sign:t.sign,data:n.reverse()}}function Mn(t){t.sign=1;for(var e=t.data,n=e.length-1;n>=0;--n)if(e[n]===4294967295)e[n]=0;else return e[n]+=1,t;return e.unshift(1),t}function Nn(t,e){for(var n=Math.max(t.length,e.length),r=0;r<n;++r){var s=r+t.length-n,i=r+e.length-n,a=s>=0?t[s]:0,o=i>=0?e[i]:0;if(a<o)return!0;if(a>o)return!1}return!1}function xe(t,e){if(t.sign!==e.sign)return vt(t,{sign:-e.sign,data:e.data});var n=t.data,r=e.data;if(Nn(n,r)){var s=xe(e,t);return s.sign=-s.sign,s}for(var i=[],a=0,o=n.length-1,u=r.length-1;o>=0||u>=0;--o,--u){var h=o>=0?n[o]:0,m=u>=0?r[u]:0,v=h-m-a;i.push(v>>>0),a=v<0?1:0}return{sign:t.sign,data:i.reverse()}}function je(t){for(var e=t.data,n=0;n!==e.length&&e[n]===0;++n);return n===e.length?(t.sign=1,t.data=[0],t):(e.splice(0,n),t)}function se(t,e){if(e<0){var n=-e;t.sign=-1,t.data[0]=~~(n/4294967296),t.data[1]=n>>>0}else t.sign=1,t.data[0]=~~(e/4294967296),t.data[1]=e>>>0;return t}function En(t,e,n){var r=e.data[1],s=e.data[0],i=e.sign,a=n.data[1],o=n.data[0],u=n.sign;if(t.sign=1,i===1&&u===-1){var h=r+a,m=s+o+(h>4294967295?1:0);return t.data[0]=m>>>0,t.data[1]=h>>>0,t}var v=r,x=s,V=a,ye=o;i===-1&&(v=a,x=o,V=r,ye=s);var we=0,W=v-V;return W<0&&(we=1,W=W>>>0),t.data[0]=x-ye-we,t.data[1]=W,t}function St(t,e){for(var n=t>2?~~(4294967296/t)*t:4294967296,r=e.unsafeNext()+2147483648;r>=n;)r=e.unsafeNext()+2147483648;return r%t}function yt(t,e,n){for(var r=e.length;;){for(var s=0;s!==r;++s){var i=s===0?e[0]+1:4294967296,a=St(i,n);t[s]=a}for(var s=0;s!==r;++s){var o=t[s],u=e[s];if(o<u)return t;if(o>u)break}}}function H(t,e,n){var r=je(Mn(xe(e,t))),s=r.data.slice(0),i=yt(s,r.data,n);return je(vt({sign:1,data:i},t))}function An(t,e,n){if(n!=null){var r=n.clone();return[H(t,e,r),r]}return function(s){var i=s.clone();return[H(t,e,i),i]}}var O=typeof BigInt<"u"?BigInt:void 0;function J(t,e,n){for(var r=e-t+O(1),s=O(-2147483648),i=O(4294967296),a=i,o=1;a<r;)a*=i,++o;for(var u=a-a%r;;){for(var h=O(0),m=0;m!==o;++m){var v=n.unsafeNext();h=i*h+(O(v)-s)}if(h<u){var x=h%r;return x+t}}}function Tn(t,e,n){if(n!=null){var r=n.clone();return[J(t,e,r),r]}return function(s){var i=s.clone();return[J(t,e,i),i]}}var On=Number.MAX_SAFE_INTEGER,Fn={sign:1,data:[0,0]},Rn={sign:1,data:[0,0]},Le={sign:1,data:[0,0]},ie=[0,0];function Pn(t,e,n,r){var s=n<=On?se(Le,n):En(Le,se(Fn,e),se(Rn,t));return s.data[1]===4294967295?(s.data[0]+=1,s.data[1]=0):s.data[1]+=1,yt(ie,s.data,r),ie[0]*4294967296+ie[1]+t}function T(t,e,n){var r=e-t;if(r<=4294967295){var s=St(r+1,n);return s+t}return Pn(t,e,r,n)}function Dn(t,e,n){if(n!=null){var r=n.clone();return[T(t,e,r),r]}return function(s){var i=s.clone();return[T(t,e,i),i]}}var jn="module",Ln="6.0.2",Vn="ad3183ba9b712bc6c1c5a9abbb1d1e641db139d4";const F=Object.freeze(Object.defineProperty({__proto__:null,__commitHash:Vn,__type:jn,__version:Ln,congruential32:vn,generateN:fn,mersenne:yn,skipN:dn,uniformArrayIntDistribution:An,uniformBigIntDistribution:Tn,uniformIntDistribution:Dn,unsafeGenerateN:bt,unsafeSkipN:ge,unsafeUniformArrayIntDistribution:H,unsafeUniformBigIntDistribution:J,unsafeUniformIntDistribution:T,xoroshiro128plus:Cn,xorshift128plus:In},Symbol.toStringTag,{value:"Module"}));var C;(function(t){t[t.None=0]="None",t[t.Verbose=1]="Verbose",t[t.VeryVerbose=2]="VeryVerbose"})(C||(C={}));const Wn=Date.now,Bn=Math.min,Gn=Math.random;class c{constructor(e){const n=e||{};this.seed=c.readSeed(n),this.randomType=c.readRandomType(n),this.numRuns=c.readNumRuns(n),this.verbose=c.readVerbose(n),this.maxSkipsPerRun=c.readOrDefault(n,"maxSkipsPerRun",100),this.timeout=c.safeTimeout(c.readOrDefault(n,"timeout",null)),this.skipAllAfterTimeLimit=c.safeTimeout(c.readOrDefault(n,"skipAllAfterTimeLimit",null)),this.interruptAfterTimeLimit=c.safeTimeout(c.readOrDefault(n,"interruptAfterTimeLimit",null)),this.markInterruptAsFailure=c.readBoolean(n,"markInterruptAsFailure"),this.skipEqualValues=c.readBoolean(n,"skipEqualValues"),this.ignoreEqualValues=c.readBoolean(n,"ignoreEqualValues"),this.logger=c.readOrDefault(n,"logger",r=>{console.log(r)}),this.path=c.readOrDefault(n,"path",""),this.unbiased=c.readBoolean(n,"unbiased"),this.examples=c.readOrDefault(n,"examples",[]),this.endOnFailure=c.readBoolean(n,"endOnFailure"),this.reporter=c.readOrDefault(n,"reporter",null),this.asyncReporter=c.readOrDefault(n,"asyncReporter",null),this.errorWithCause=c.readBoolean(n,"errorWithCause")}toParameters(){const e=r=>r!==null?r:void 0;return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:e(this.timeout),skipAllAfterTimeLimit:e(this.skipAllAfterTimeLimit),interruptAfterTimeLimit:e(this.interruptAfterTimeLimit),markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:e(this.reporter),asyncReporter:e(this.asyncReporter),errorWithCause:this.errorWithCause}}static read(e){return new c(e)}}c.createQualifiedRandomGenerator=t=>e=>{const n=t(e);return n.unsafeJump===void 0&&(n.unsafeJump=()=>ge(n,42)),n};c.readSeed=t=>{if(t.seed==null)return Wn()^Gn()*4294967296;const e=t.seed|0;if(t.seed===e)return e;const n=t.seed-e;return e^n*4294967296};c.readRandomType=t=>{if(t.randomType==null)return F.xorshift128plus;if(typeof t.randomType=="string")switch(t.randomType){case"mersenne":return c.createQualifiedRandomGenerator(F.mersenne);case"congruential":case"congruential32":return c.createQualifiedRandomGenerator(F.congruential32);case"xorshift128plus":return F.xorshift128plus;case"xoroshiro128plus":return F.xoroshiro128plus;default:throw new Error(`Invalid random specified: '${t.randomType}'`)}const e=t.randomType(0);if("min"in e&&e.min!==-2147483648)throw new Error(`Invalid random number generator: min must equal -0x80000000, got ${String(e.min)}`);if("max"in e&&e.max!==2147483647)throw new Error(`Invalid random number generator: max must equal 0x7fffffff, got ${String(e.max)}`);return"unsafeJump"in e?t.randomType:c.createQualifiedRandomGenerator(t.randomType)};c.readNumRuns=t=>t.numRuns!=null?t.numRuns:t.num_runs!=null?t.num_runs:100;c.readVerbose=t=>t.verbose==null?C.None:typeof t.verbose=="boolean"?t.verbose===!0?C.Verbose:C.None:t.verbose<=C.None?C.None:t.verbose>=C.VeryVerbose?C.VeryVerbose:t.verbose|0;c.readBoolean=(t,e)=>t[e]===!0;c.readOrDefault=(t,e,n)=>{const r=t[e];return r??n};c.safeTimeout=t=>t===null?null:Bn(t,2147483647);class Un{constructor(e){this.property=e,this.property.runBeforeEach!==void 0&&this.property.runAfterEach!==void 0&&(this.runBeforeEach=()=>this.property.runBeforeEach(),this.runAfterEach=()=>this.property.runAfterEach())}isAsync(){return this.property.isAsync()}generate(e,n){return this.property.generate(e,void 0)}shrink(e){return this.property.shrink(e)}run(e,n){return this.property.run(e,n)}}class w{constructor(e){this.internalRng=e.clone()}clone(){return new w(this.internalRng)}next(e){return T(0,(1<<e)-1,this.internalRng)}nextBoolean(){return T(0,1,this.internalRng)==1}nextInt(e,n){return T(e??w.MIN_INT,n??w.MAX_INT,this.internalRng)}nextBigInt(e,n){return J(e,n,this.internalRng)}nextArrayInt(e,n){return H(e,n,this.internalRng)}nextDouble(){const e=this.next(26),n=this.next(27);return(e*w.DBL_FACTOR+n)*w.DBL_DIVISOR}}w.MIN_INT=-2147483648;w.MAX_INT=2147483647;w.DBL_FACTOR=Math.pow(2,27);w.DBL_DIVISOR=Math.pow(2,-53);function $n(t,e,n){return e.unsafeJump(),t.generate(new w(e),n)}function*zn(t,e,n,r){for(let s=0;s!==r.length;++s)yield new d(r[s],void 0);for(let s=0,i=n(e);;++s)yield $n(t,i,s)}function Kn(t,e,n){let r=e;const s=t.split(":").map(i=>+i);if(s.length===0)return r;if(!s.every(i=>!Number.isNaN(i)))throw new Error(`Unable to replay, got invalid path=${t}`);r=r.drop(s[0]);for(const i of s.slice(1)){const a=r.getNthOrLast(0);if(a==null)throw new Error(`Unable to replay, got wrong path=${t}`);r=n(a).drop(i)}return r}function qn(t,e){const n=Object.prototype.hasOwnProperty.call(t,"isAsync")?t:new L(t,()=>!0);return e.unbiased===!0?new Un(n):n}function _n(t,e){const n=typeof e=="number"?Object.assign(Object.assign({},j()),{numRuns:e}):Object.assign(Object.assign({},j()),e),r=c.read(n),s=qn(t,r),i=s.shrink.bind(s),a=le(zn(s,r.seed,r.randomType,r.examples));return r.path.length===0?a.take(r.numRuns).map(o=>o.value_):Kn(r.path,a,i).take(r.numRuns).map(o=>o.value_)}function S(t,e){return[..._n(t,e)]}const Hn=Math.floor,Ve=Math.log;function Jn(t){return Hn(Ve(t)/Ve(2))}function Xn(t,e,n){if(t===e)return[{min:t,max:e}];if(t<0&&e>0){const a=n(-t),o=n(e);return[{min:-a,max:o},{min:e-o,max:e},{min:t,max:t+a}]}const r=n(e-t),s={min:t,max:t+r},i={min:e-r,max:e};return t<0?[i,s]:[s,i]}const Yn=Math.ceil,Zn=Math.floor;function We(t){return Zn(t/2)}function Be(t){return Yn(t/2)}function Ge(t,e,n){const r=t-e;function*s(){let a=n?void 0:e;const o=n?r:We(r);for(let u=o;u>0;u=We(u)){const h=u===r?e:t-u;yield new d(h,a),a=h}}function*i(){let a=n?void 0:e;const o=n?r:Be(r);for(let u=o;u<0;u=Be(u)){const h=u===r?e:t-u;yield new d(h,a),a=h}}return r>0?le(s()):le(i())}const Ue=Math.sign,Qn=Number.isInteger,er=Object.is;class be extends I{constructor(e,n){super(),this.min=e,this.max=n}generate(e,n){const r=this.computeGenerateRange(e,n);return new d(e.nextInt(r.min,r.max),void 0)}canShrinkWithoutContext(e){return typeof e=="number"&&Qn(e)&&!er(e,-0)&&this.min<=e&&e<=this.max}shrink(e,n){if(!be.isValidContext(e,n)){const r=this.defaultTarget();return Ge(e,r,!0)}return this.isLastChanceTry(e,n)?f.of(new d(n,void 0)):Ge(e,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(e,n){if(n===void 0||e.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=Xn(this.min,this.max,Jn);if(r.length===1)return r[0];const s=e.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}isLastChanceTry(e,n){return e>0?e===n+1&&e>this.min:e<0?e===n-1&&e<this.max:!1}static isValidContext(e,n){if(n===void 0)return!1;if(typeof n!="number")throw new Error("Invalid context type passed to IntegerArbitrary (#1)");if(n!==0&&Ue(e)!==Ue(n))throw new Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}const $e=Number.isInteger;function tr(t){const e=t.min!==void 0?t.min:-2147483648,n=t.max!==void 0?t.max:2147483647;return{min:e,max:n}}function X(t={}){const e=tr(t);if(e.min>e.max)throw new Error("fc.integer maximum value should be equal or greater than the minimum one");if(!$e(e.min))throw new Error("fc.integer minimum value should be an integer");if(!$e(e.max))throw new Error("fc.integer maximum value should be an integer");return new be(e.min,e.max)}const ze=new Map;function wt(t){if(t===void 0)return{depth:0};if(typeof t!="string")return t;const e=ze.get(t);if(e!==void 0)return e;const n={depth:0};return ze.set(t,n),n}class nr{constructor(e,n,r){this.arb=e,this.mrng=n,this.biasFactor=r}attemptExact(){}next(){return this.arb.generate(this.mrng,this.biasFactor)}}const rr=Math.min,sr=Math.max;class ir{constructor(e,n,r,s){this.arb=e,this.mrng=n,this.slices=r,this.biasFactor=s,this.activeSliceIndex=0,this.nextIndexInSlice=0,this.lastIndexInSlice=-1}attemptExact(e){if(e!==0&&this.mrng.nextInt(1,this.biasFactor)===1){const n=[];for(let r=0;r!==this.slices.length;++r)this.slices[r].length===e&&b(n,r);if(n.length===0)return;this.activeSliceIndex=n[this.mrng.nextInt(0,n.length-1)],this.nextIndexInSlice=0,this.lastIndexInSlice=e-1}}next(){if(this.nextIndexInSlice<=this.lastIndexInSlice)return new d(this.slices[this.activeSliceIndex][this.nextIndexInSlice++],void 0);if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.arb.generate(this.mrng,this.biasFactor);this.activeSliceIndex=this.mrng.nextInt(0,this.slices.length-1);const e=this.slices[this.activeSliceIndex];if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.nextIndexInSlice=1,this.lastIndexInSlice=e.length-1,new d(e[0],void 0);const n=this.mrng.nextInt(0,e.length-1),r=this.mrng.nextInt(0,e.length-1);return this.nextIndexInSlice=rr(n,r),this.lastIndexInSlice=sr(n,r),new d(e[this.nextIndexInSlice++],void 0)}}function Ke(t,e,n,r){return r===void 0||n.length===0||e.nextInt(1,r)!==1?new nr(t,e,r):new ir(t,e,n,r)}const ar=Math.floor,qe=Math.log,_e=Math.max,or=Array.isArray;function ae(t,e){return t===e?t:t+ar(qe(e-t)/qe(2))}class ve extends I{constructor(e,n,r,s,i,a,o){super(),this.arb=e,this.minLength=n,this.maxGeneratedLength=r,this.maxLength=s,this.setBuilder=a,this.customSlices=o,this.lengthArb=X({min:n,max:r}),this.depthContext=wt(i)}preFilter(e){if(this.setBuilder===void 0)return e;const n=this.setBuilder();for(let r=0;r!==e.length;++r)n.tryAdd(e[r]);return n.getData()}static makeItCloneable(e,n){return e[M]=()=>{const r=[];for(let s=0;s!==n.length;++s)b(r,n[s].value);return this.makeItCloneable(r,n),r},e}generateNItemsNoDuplicates(e,n,r,s){let i=0;const a=e(),o=Ke(this.arb,r,this.customSlices,s);for(;a.size()<n&&i<this.maxGeneratedLength;){const u=o.next();a.tryAdd(u)?i=0:i+=1}return a.getData()}safeGenerateNItemsNoDuplicates(e,n,r,s){const i=_e(0,n-ae(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=i;try{return this.generateNItemsNoDuplicates(e,n,r,s)}finally{this.depthContext.depth-=i}}generateNItems(e,n,r){const s=[],i=Ke(this.arb,n,this.customSlices,r);i.attemptExact(e);for(let a=0;a!==e;++a){const o=i.next();b(s,o)}return s}safeGenerateNItems(e,n,r){const s=_e(0,e-ae(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=s;try{return this.generateNItems(e,n,r)}finally{this.depthContext.depth-=s}}wrapper(e,n,r,s){const i=n?this.preFilter(e):e;let a=!1;const o=[],u=[];for(let m=0;m!==i.length;++m){const v=i[m];a=a||v.hasToBeCloned,b(o,v.value),b(u,v.context)}a&&ve.makeItCloneable(o,i);const h={shrunkOnce:n,lengthContext:e.length===i.length&&r!==void 0?r:void 0,itemsContexts:u,startIndex:s};return new d(o,h)}generate(e,n){const r=this.applyBias(e,n),s=r.size,i=this.setBuilder!==void 0?this.safeGenerateNItemsNoDuplicates(this.setBuilder,s,e,r.biasFactorItems):this.safeGenerateNItems(s,e,r.biasFactorItems);return this.wrapper(i,!1,void 0,0)}applyBias(e,n){if(n===void 0)return{size:this.lengthArb.generate(e,void 0).value};if(this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:n};if(e.nextInt(1,n)!==1)return{size:this.lengthArb.generate(e,void 0).value};if(e.nextInt(1,n)!==1||this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:n};const r=ae(this.minLength,this.maxGeneratedLength);return{size:X({min:this.minLength,max:r}).generate(e,void 0).value,biasFactorItems:n}}canShrinkWithoutContext(e){if(!or(e)||this.minLength>e.length||e.length>this.maxLength)return!1;for(let r=0;r!==e.length;++r)if(!(r in e)||!this.arb.canShrinkWithoutContext(e[r]))return!1;return this.preFilter(P(e,r=>new d(r,void 0))).length===e.length}shrinkItemByItem(e,n,r){const s=[];for(let i=n.startIndex;i<r;++i)b(s,q(()=>this.arb.shrink(e[i],n.itemsContexts[i]).map(a=>{const o=P(N(e,0,i),(h,m)=>new d(R(h),n.itemsContexts[m])),u=P(N(e,i+1),(h,m)=>new d(R(h),n.itemsContexts[m+i+1]));return[[...o,a,...u],void 0,i]})));return f.nil().join(...s)}shrinkImpl(e,n){if(e.length===0)return f.nil();const r=n!==void 0?n:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[],startIndex:0};return this.lengthArb.shrink(e.length,r.lengthContext).drop(r.shrunkOnce&&r.lengthContext===void 0&&e.length>this.minLength+1?1:0).map(s=>{const i=e.length-s.value;return[P(N(e,i),(a,o)=>new d(R(a),r.itemsContexts[o+i])),s.context,0]}).join(q(()=>e.length>this.minLength?this.shrinkItemByItem(e,r,1):this.shrinkItemByItem(e,r,e.length))).join(e.length>this.minLength?q(()=>{const s={shrunkOnce:!1,lengthContext:void 0,itemsContexts:N(r.itemsContexts,1),startIndex:0};return this.shrinkImpl(N(e,1),s).filter(i=>this.minLength<=i[0].length+1).map(i=>[[new d(R(e[0]),r.itemsContexts[0]),...i[0]],void 0,0])}):f.nil())}shrink(e,n){return this.shrinkImpl(e,n).map(r=>this.wrapper(r[0],!0,r[1],r[2]))}}const ur=Math.floor,hr=Math.min,cr=2147483647,E=["xsmall","small","medium","large","xlarge"],lr=["-4","-3","-2","-1","=","+1","+2","+3","+4"],It="small";function fr(t,e){switch(e){case"xsmall":return ur(1.1*t)+1;case"small":return 2*t+10;case"medium":return 11*t+100;case"large":return 101*t+1e3;case"xlarge":return 1001*t+1e4;default:throw new Error(`Unable to compute lengths based on received size: ${e}`)}}function kt(t,e){const n=fe(lr,t);if(n===-1)return t;const r=fe(E,e);if(r===-1)throw new Error(`Unable to offset size based on the unknown defaulted one: ${e}`);const s=r+n-4;return s<0?E[0]:s>=E.length?E[E.length-1]:E[s]}function dr(t,e,n,r){const{baseSize:s=It,defaultSizeToMaxWhenMaxSpecified:i}=j()||{},a=t!==void 0?t:r&&i?"max":s;if(a==="max")return n;const o=kt(a,s);return hr(fr(e,o),n)}function pr(t,e){if(typeof t=="number")return 1/t;const{baseSize:n=It,defaultSizeToMaxWhenMaxSpecified:r}=j()||{},s=t!==void 0?t:e&&r?"max":n;if(s==="max")return 0;switch(kt(s,n)){case"xsmall":return 1;case"small":return .5;case"medium":return .25;case"large":return .125;case"xlarge":return .0625}}function mr(t,e={}){const n=e.size,r=e.minLength||0,s=e.maxLength,i=e.depthIdentifier,a=s!==void 0?s:cr,u=dr(n,r,a,s!==void 0),h=e.experimentalCustomSlices||[];return new ve(t,r,u,a,i,void 0,h)}const He=Object.is;class Ct extends I{constructor(e){super(),this.values=e}generate(e,n){const r=this.values.length===1?0:e.nextInt(0,this.values.length-1),s=this.values[r];return Q(s)?new d(s,r,()=>s[M]()):new d(s,r)}canShrinkWithoutContext(e){for(let n=0;n!==this.values.length;++n)if(He(this.values[n],e))return!0;return!1}shrink(e,n){return n===0||He(e,this.values[0])?f.nil():f.of(new d(this.values[0],0))}}function gr(...t){if(t.length===0)throw new Error("fc.constantFrom expects at least one parameter");return new Ct(t)}const xr=String.fromCodePoint;function br(t){if(typeof t!="string")throw new Error("Cannot unmap non-string");if(t.length===0||t.length>2)throw new Error("Cannot unmap string with more or less than one character");const e=Re(t,0);if(t.length===1)return e;const n=Re(t,1);if(e<55296||e>56319||n<56320||n>57343)throw new Error("Cannot unmap invalid surrogate pairs");return t.codePointAt(0)}function vr(t,e,n,r){return X({min:t,max:e}).map(s=>xr(n(s)),s=>r(br(s)))}function Je(t){return t}function Sr(){return vr(32,126,Je,Je)}function _(t){return new Ct([t])}const yr=Number.POSITIVE_INFINITY,wr=Number.MAX_SAFE_INTEGER,Ir=Number.isInteger,kr=Math.floor,Cr=Math.pow,Mr=Math.min;class Se extends I{static from(e,n,r){if(e.length===0)throw new Error(`${r} expects at least one weighted arbitrary`);let s=0;for(let a=0;a!==e.length;++a){if(e[a].arbitrary===void 0)throw new Error(`${r} expects arbitraries to be specified`);const u=e[a].weight;if(s+=u,!Ir(u))throw new Error(`${r} expects weights to be integer values`);if(u<0)throw new Error(`${r} expects weights to be superior or equal to 0`)}if(s<=0)throw new Error(`${r} expects the sum of weights to be strictly superior to 0`);const i={depthBias:pr(n.depthSize,n.maxDepth!==void 0),maxDepth:n.maxDepth!=null?n.maxDepth:yr,withCrossShrink:!!n.withCrossShrink};return new Se(e,i,wt(n.depthIdentifier))}constructor(e,n,r){super(),this.warbs=e,this.constraints=n,this.context=r;let s=0;this.cumulatedWeights=[];for(let i=0;i!==e.length;++i)s+=e[i].weight,b(this.cumulatedWeights,s);this.totalWeight=s}generate(e,n){if(this.mustGenerateFirst())return this.safeGenerateForIndex(e,0,n);const r=e.nextInt(this.computeNegDepthBenefit(),this.totalWeight-1);for(let s=0;s!==this.cumulatedWeights.length;++s)if(r<this.cumulatedWeights[s])return this.safeGenerateForIndex(e,s,n);throw new Error("Unable to generate from fc.frequency")}canShrinkWithoutContext(e){return this.canShrinkWithoutContextIndex(e)!==-1}shrink(e,n){if(n!==void 0){const s=n,i=s.selectedIndex,a=s.originalBias,u=this.warbs[i].arbitrary.shrink(e,s.originalContext).map(h=>this.mapIntoValue(i,h,null,a));if(s.clonedMrngForFallbackFirst!==null){s.cachedGeneratedForFirst===void 0&&(s.cachedGeneratedForFirst=this.safeGenerateForIndex(s.clonedMrngForFallbackFirst,0,a));const h=s.cachedGeneratedForFirst;return f.of(h).join(u)}return u}const r=this.canShrinkWithoutContextIndex(e);return r===-1?f.nil():this.defaultShrinkForFirst(r).join(this.warbs[r].arbitrary.shrink(e,void 0).map(s=>this.mapIntoValue(r,s,null,void 0)))}defaultShrinkForFirst(e){++this.context.depth;try{if(!this.mustFallbackToFirstInShrink(e)||this.warbs[0].fallbackValue===void 0)return f.nil()}finally{--this.context.depth}const n=new d(this.warbs[0].fallbackValue.default,void 0);return f.of(this.mapIntoValue(0,n,null,void 0))}canShrinkWithoutContextIndex(e){if(this.mustGenerateFirst())return this.warbs[0].arbitrary.canShrinkWithoutContext(e)?0:-1;try{++this.context.depth;for(let n=0;n!==this.warbs.length;++n){const r=this.warbs[n];if(r.weight!==0&&r.arbitrary.canShrinkWithoutContext(e))return n}return-1}finally{--this.context.depth}}mapIntoValue(e,n,r,s){const i={selectedIndex:e,originalBias:s,originalContext:n.context,clonedMrngForFallbackFirst:r};return new d(n.value,i)}safeGenerateForIndex(e,n,r){++this.context.depth;try{const s=this.warbs[n].arbitrary.generate(e,r),i=this.mustFallbackToFirstInShrink(n)?e.clone():null;return this.mapIntoValue(n,s,i,r)}finally{--this.context.depth}}mustGenerateFirst(){return this.constraints.maxDepth<=this.context.depth}mustFallbackToFirstInShrink(e){return e!==0&&this.constraints.withCrossShrink&&this.warbs[0].weight!==0}computeNegDepthBenefit(){const e=this.constraints.depthBias;if(e<=0||this.warbs[0].weight===0)return 0;const n=kr(Cr(1+e,this.context.depth))-1;return-Mr(this.totalWeight*n,wr)||0}}function Nr(t,e={}){const n=e.freq==null?5:e.freq,r=rn(e,"nil")?e.nil:null,i=[{arbitrary:_(r),weight:1,fallbackValue:{default:r}},{arbitrary:t,weight:n}],a={withCrossShrink:!0,depthSize:e.depthSize,maxDepth:e.maxDepth,depthIdentifier:e.depthIdentifier};return Se.from(i,a,"fc.option")}const Er=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","__proto__","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","apply","arguments","bind","call","caller","length","name","prototype","key","ref"];function Ar(t,e,n){let r;try{r=n(t)}catch{return}for(const s of r)if(!e.canShrinkWithoutContext(s))return;return r}function Tr(t,e){const n=[];for(const r of Er){const s=Ar(r,t,e);s!==void 0&&b(n,s)}return n}function Or(t){return Jt(t,"")}function Xe(t){if(typeof t!="string")throw new Error("Cannot unmap the passed value");return[...t]}const Ye=Object.assign;function Fr(t={}){const e=Sr(),n=Tr(e,Xe),r=Ye(Ye({},t),{experimentalCustomSlices:n});return mr(e,r).map(Or,Xe)}const Rr=Object.keys,Pr=Object.getOwnPropertySymbols,Dr=Object.getOwnPropertyDescriptor;function jr(t){const e=Rr(t),n=Pr(t);for(let r=0;r!==n.length;++r){const s=n[r],i=Dr(t,s);i&&i.enumerable&&e.push(s)}return e}const Lr=Object.defineProperty,Vr=Object.getOwnPropertyDescriptor,Wr=Object.getOwnPropertyNames,Br=Object.getOwnPropertySymbols;function Gr(t,e){return function(r){const s={};for(let i=0;i!==t.length;++i){const a=r[i];a!==e&&Lr(s,t[i],{value:a,configurable:!0,enumerable:!0,writable:!0})}return s}}function Ur(t,e){return function(r){if(typeof r!="object"||r===null)throw new Error("Incompatible instance received: should be a non-null object");if(!("constructor"in r)||r.constructor!==Object)throw new Error("Incompatible instance received: should be of exact type Object");let s=0;const i=[];for(let u=0;u!==t.length;++u){const h=Vr(r,t[u]);if(h!==void 0){if(!h.configurable||!h.enumerable||!h.writable)throw new Error("Incompatible instance received: should contain only c/e/w properties");if(h.get!==void 0||h.set!==void 0)throw new Error("Incompatible instance received: should contain only no get/set properties");++s,b(i,h.value)}else b(i,e)}const a=Wr(r).length,o=Br(r).length;if(s!==a+o)throw new Error("Incompatible instance received: should not contain extra properties");return i}}const oe=Symbol("no-key");function ue(t,e){const n=jr(t),r=[];for(let s=0;s!==n.length;++s){const i=n[s],a=t[i];e===void 0||fe(e,i)!==-1?b(r,a):b(r,Nr(a,{nil:oe}))}return me(...r).map(Gr(n,oe),Ur(n,oe))}function $r(t,e){if(e==null)return ue(t,void 0);if("withDeletedKeys"in e&&"requiredKeys"in e)throw new Error("requiredKeys and withDeletedKeys cannot be used together in fc.record");if(!("requiredKeys"in e&&e.requiredKeys!==void 0||"withDeletedKeys"in e&&!!e.withDeletedKeys))return ue(t,void 0);const r=("requiredKeys"in e?e.requiredKeys:void 0)||[];for(let s=0;s!==r.length;++s){const i=Object.getOwnPropertyDescriptor(t,r[s]);if(i===void 0)throw new Error("requiredKeys cannot reference keys that have not been defined in recordModel");if(!i.enumerable)throw new Error("requiredKeys cannot reference keys that have are enumerable in recordModel")}return ue(t,r)}function Mt(t){return Qt(tn(t,16),8,"0")}function zr(t){if(typeof t!="string")throw new Error("Unsupported type");if(t.length!==8)throw new Error("Unsupported value: invalid length");const e=parseInt(t,16);if(t!==Mt(e))throw new Error("Unsupported value: invalid content");return e}function he(t,e){return X({min:t,max:e}).map(Mt,zr)}function Kr(t){return`${t[0]}-${A(t[1],4)}-${A(t[1],0,4)}-${A(t[2],0,4)}-${A(t[2],4)}${t[3]}`}const qr=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/;function _r(t){if(typeof t!="string")throw new Error("Unsupported type");const e=qr.exec(t);if(e===null)throw new Error("Unsupported type");return[e[1],e[3]+e[2],e[4]+A(e[5],0,4),A(e[5],4)]}function Hr(){const t=he(0,4294967295),e=he(268435456,1610612735),n=he(2147483648,3221225471);return me(t,e,n,t).map(Kr,_r)}const Jr=dt.div`
  height: 1400px;
  width: 500px;
  position: relative;
  border: 1px solid black;
  overflow: auto;
`,ee=dt.div`
  height: 500px;
  width: 500px;
  border: 1px solid black;
  overflow: hidden;
`,is={title:"Core/Infinite"},G=()=>{const[t,e]=l.useState(0),n=l.useCallback(()=>{e(r=>r+1)},[]);return p(Jr,{children:["Scroll the top in and out of view. Observe count:"," ",t,g(Nt,{onIntersect:n})]})},y=me(gr("Tom Nook","Chirs P","Chris G","Chris N"),Fr({minLength:500,maxLength:500})).chain(([t,e])=>$r({id:Hr(),name:_(t),email:_(`${t.toLowerCase().replace(" ","_")}@deskpro.com`),message:_(e)})),U=()=>{const[t,e]=l.useState(()=>S(y,{numRuns:4,seed:2324})),[n,r]=l.useState("hasNextPage"),s=l.useCallback(()=>{r("loading"),setTimeout(()=>{e(a=>[...a,...S(y,{numRuns:4})]),t.length>15?r("end-with-force"):r("hasNextPage")},1e3)},[t.length]),i=l.useCallback(()=>{setTimeout(()=>{e(a=>[...S(y,{numRuns:1}),...a])},500)},[]);return p(pe,{children:[g("button",{onClick:i,children:"submit message"}),g(ee,{children:g(Y,{onFetchMore:s,status:n,fetchMoreText:"Fetch more",autoscrollText:"Jump to start",anchor:!0,children:g(Z,{vertical:!0,align:"stretch",children:t.map(a=>p("div",{style:{overflow:"hidden"},children:[p("h1",{children:["Name: ",a.name]}),p("p",{children:["Email: ",a.email]}),p("p",{children:[" ",a.message]})]},a.id))})})})]})},$=()=>{const[t,e]=l.useState(()=>S(y,{numRuns:4,seed:2324})),[n,r]=l.useState("hasNextPage"),s=l.useCallback(()=>{r("loading"),setTimeout(()=>{e(a=>[...S(y,{numRuns:4}),...a]),t.length>15?r("end-with-force"):r("hasNextPage")},1e3)},[t.length]),i=l.useCallback(()=>{setTimeout(()=>{e(a=>[...a,...S(y,{numRuns:1})])},500)},[]);return p(pe,{children:[g("button",{onClick:i,children:"submit message"}),g(ee,{children:g(Y,{onFetchMore:s,status:n,fetchMoreText:"Fetch more",autoscrollText:"Jump to start",reverse:!0,anchor:!0,children:g(Z,{vertical:!0,align:"stretch",reverse:!0,padding:10,grow:!0,children:t.map(a=>p("div",{style:{overflow:"hidden"},children:[p("h1",{children:["Name: ",a.name]}),p("p",{children:["Email: ",a.email]}),p("p",{children:[" ",a.message]})]},a.id))})})})]})},z=()=>{const[t,e]=l.useState(()=>S(y,{numRuns:4,seed:2324})),[n,r]=l.useState("hasNextPage"),s=l.useCallback(()=>{r("loading"),setTimeout(()=>{e(o=>[...o,...S(y,{numRuns:4})]),t.length>15?r("end-with-force"):r("hasNextPage")},1e3)},[t.length]),i=l.useCallback(()=>{setTimeout(()=>{e(o=>[...S(y,{numRuns:1}),...o])},500)},[]),a=l.useRef(null);return l.useEffect(()=>{var o;t.length===4&&((o=a.current)==null||o.scrollIntoView())},[t.length]),p(pe,{children:[g("button",{onClick:i,children:"submit message"}),g(ee,{children:g(Y,{onFetchMore:s,status:n,fetchMoreText:"Fetch more",autoscrollText:"Autoscroll",reverse:!0,children:g(Z,{vertical:!0,align:"stretch",reverse:!0,children:t.map((o,u)=>p("div",{style:{overflow:"hidden"},ref:u===0?a:void 0,children:[p("h1",{children:["Name: ",o.name," - ",u]}),p("p",{children:["Email: ",o.email]}),p("p",{children:[" ",o.message]}),p("p",{children:[" ",o.message]}),p("p",{children:[" ",o.message]}),p("p",{children:[" ",o.message]})]},o.id))})})})]})},Xr=t=>{const[e,n]=l.useState(!1);return l.useEffect(()=>{const r=()=>n(!0);if(t.current&&!e){const s=t.current,i=a=>{["ArrowUp","ArrowDown"].includes(a.key)&&n(!0)};return s.addEventListener("wheel",r),s.addEventListener("mousedown",r),s.addEventListener("keyup",i),s.addEventListener("DOMMouseScroll",r),s.addEventListener("touchmove",r),()=>{s.removeEventListener("wheel",r),s.removeEventListener("mousedown",r),s.removeEventListener("keyup",i),s.removeEventListener("DOMMouseScroll",r),s.removeEventListener("touchmove",r)}}},[e,t]),{hasUserScrolled:e,reset:()=>n(!1)}},Yr=({onFetchMore:t,status:e,startStatus:n,children:r,onFetchMoreStart:s})=>{const i=l.useRef(null),{hasUserScrolled:a}=Xr(i),o=l.useRef(),u=l.useCallback(()=>{var x;clearTimeout(o.current);const v=(x=i.current)==null?void 0:x.querySelector(".message");!a&&v&&v.scrollIntoView()},[a]);l.useEffect(u,[u,e]);const h=l.useCallback(()=>{a&&(t==null||t())},[a,t]),m=l.useCallback(()=>{a&&(s==null||s())},[a,s]);return g(Y,{fetchMoreText:"Fetch more",autoscrollText:"Autoscroll",status:e,startStatus:n,reverse:!0,anchor:a,justify:"flex-end",onFetchMore:h,onFetchMoreStart:m,scrollRef:i,scrollSideEffect:u,onResize:u,width:"100%",children:r})},K=()=>{const[t,e]=l.useState(()=>S(y,{numRuns:4,seed:2324})),[n,r]=l.useState("hasNextPage"),[s,i]=l.useState("hasNextPage"),[a,o]=l.useState(1),[u,h]=l.useState(1),m=l.useCallback(()=>{n==="hasNextPage"&&(r("loading"),setTimeout(()=>{a>4?r("end-with-force"):(e(x=>[...x,...S(y,{numRuns:4})]),o(a+1),setTimeout(()=>r("hasNextPage"),100))},1e3))},[a,n]),v=l.useCallback(()=>{s==="hasNextPage"&&(i("loading"),setTimeout(()=>{u>4?i("end-with-force"):(e(x=>[...S(y,{numRuns:4}),...x]),h(u+1),setTimeout(()=>i("hasNextPage"),100))},1e3))},[u,s]);return g("div",{children:g(ee,{children:g(Yr,{onFetchMore:m,onFetchMoreStart:v,status:n,startStatus:s,children:g(Z,{vertical:!0,align:"stretch",reverse:!0,children:t.map((x,V)=>p("div",{className:"message",style:{overflow:"hidden"},children:[p("h1",{children:["Name: ",x.name," - ",V+1-(u-1)*4]}),p("p",{children:["ID: ",x.id]}),p("p",{children:["Email: ",x.email]}),g("p",{children:x.message})]},x.id))})})})})};var Ze,Qe,et;G.parameters={...G.parameters,docs:{...(Ze=G.parameters)==null?void 0:Ze.docs,source:{originalSource:`() => {
  const [state, setState] = useState(0);
  const handleIntersect = useCallback(() => {
    setState(prev => prev + 1);
  }, []);
  return <RelativeContainer>
      Scroll the top in and out of view. Observe count:{" "}
      {state}
      <ObservedDiv onIntersect={handleIntersect} />
    </RelativeContainer>;
}`,...(et=(Qe=G.parameters)==null?void 0:Qe.docs)==null?void 0:et.source}}};var tt,nt,rt;U.parameters={...U.parameters,docs:{...(tt=U.parameters)==null?void 0:tt.docs,source:{originalSource:`() => {
  const [state, setState] = useState(() => fc.sample(messagesArbitary, {
    numRuns: 4,
    seed: 2324
  }));
  const [infiniteState, setInfiniteState] = useState<"loading" | "hasNextPage" | "end" | "end-with-force">("hasNextPage");
  const handleFetchMore = useCallback(() => {
    setInfiniteState("loading");
    setTimeout(() => {
      setState(prev => [...prev, ...fc.sample(messagesArbitary, {
        numRuns: 4
      })]);
      if (state.length > 15) {
        setInfiniteState("end-with-force");
      } else {
        setInfiniteState("hasNextPage");
      }
    }, 1000);
  }, [state.length]);
  const handleNewMessage = useCallback(() => {
    setTimeout(() => {
      setState(prev => [...fc.sample(messagesArbitary, {
        numRuns: 1
      }), ...prev]);
    }, 500);
  }, []);
  return <>
      <button onClick={handleNewMessage}>submit message</button>
      <Container>
        <Infinite onFetchMore={handleFetchMore} status={infiniteState} fetchMoreText={"Fetch more"} autoscrollText={"Jump to start"} anchor>
          <Stack vertical align="stretch">
            {state.map(message => <div style={{
            overflow: "hidden"
          }} key={message.id}>
                <h1>Name: {message.name}</h1>
                <p>Email: {message.email}</p>
                <p> {message.message}</p>
              </div>)}
          </Stack>
        </Infinite>
      </Container>
    </>;
}`,...(rt=(nt=U.parameters)==null?void 0:nt.docs)==null?void 0:rt.source}}};var st,it,at;$.parameters={...$.parameters,docs:{...(st=$.parameters)==null?void 0:st.docs,source:{originalSource:`() => {
  const [state, setState] = useState(() => fc.sample(messagesArbitary, {
    numRuns: 4,
    seed: 2324
  }));
  const [infiniteState, setInfiniteState] = useState<"loading" | "hasNextPage" | "end" | "end-with-force">("hasNextPage");
  const handleFetchMore = useCallback(() => {
    setInfiniteState("loading");
    setTimeout(() => {
      setState(prev => [...fc.sample(messagesArbitary, {
        numRuns: 4
      }), ...prev]);
      if (state.length > 15) {
        setInfiniteState("end-with-force");
      } else {
        setInfiniteState("hasNextPage");
      }
    }, 1000);
  }, [state.length]);
  const handleNewMessage = useCallback(() => {
    setTimeout(() => {
      setState(prev => [...prev, ...fc.sample(messagesArbitary, {
        numRuns: 1
      })]);
    }, 500);
  }, []);
  return <>
      <button onClick={handleNewMessage}>submit message</button>
      <Container>
        <Infinite onFetchMore={handleFetchMore} status={infiniteState} fetchMoreText={"Fetch more"} autoscrollText={"Jump to start"} reverse anchor>
          <Stack vertical align="stretch" reverse padding={10} grow>
            {state.map(message => <div style={{
            overflow: "hidden"
          }} key={message.id}>
                <h1>Name: {message.name}</h1>
                <p>Email: {message.email}</p>
                <p> {message.message}</p>
              </div>)}
          </Stack>
        </Infinite>
      </Container>
    </>;
}`,...(at=(it=$.parameters)==null?void 0:it.docs)==null?void 0:at.source}}};var ot,ut,ht;z.parameters={...z.parameters,docs:{...(ot=z.parameters)==null?void 0:ot.docs,source:{originalSource:`() => {
  const [state, setState] = useState(() => fc.sample(messagesArbitary, {
    numRuns: 4,
    seed: 2324
  }));
  const [infiniteState, setInfiniteState] = useState<"loading" | "hasNextPage" | "end" | "end-with-force">("hasNextPage");
  const handleFetchMore = useCallback(() => {
    setInfiniteState("loading");
    setTimeout(() => {
      setState(prev => [...prev, ...fc.sample(messagesArbitary, {
        numRuns: 4
      })]);
      if (state.length > 15) {
        setInfiniteState("end-with-force");
      } else {
        setInfiniteState("hasNextPage");
      }
    }, 1000);
  }, [state.length]);
  const handleNewMessage = useCallback(() => {
    setTimeout(() => {
      setState(prev => [...fc.sample(messagesArbitary, {
        numRuns: 1
      }), ...prev]);
    }, 500);
  }, []);
  const lastMessageRef = useRef<HTMLDivElement>(null);
  useEffect(() => {
    if (state.length === 4) {
      lastMessageRef.current?.scrollIntoView();
    }
  }, [state.length]);
  return <>
      <button onClick={handleNewMessage}>submit message</button>
      <Container>
        <Infinite onFetchMore={handleFetchMore} status={infiniteState} fetchMoreText={"Fetch more"} autoscrollText={"Autoscroll"} reverse>
          <Stack vertical align="stretch" reverse>
            {state.map((message, i) => <div style={{
            overflow: "hidden"
          }} key={message.id} ref={i === 0 ? lastMessageRef : undefined}>
                <h1>
                  Name: {message.name} - {i}
                </h1>
                <p>Email: {message.email}</p>
                <p> {message.message}</p>
                <p> {message.message}</p>
                <p> {message.message}</p>
                <p> {message.message}</p>
              </div>)}
          </Stack>
        </Infinite>
      </Container>
    </>;
}`,...(ht=(ut=z.parameters)==null?void 0:ut.docs)==null?void 0:ht.source}}};var ct,lt,ft;K.parameters={...K.parameters,docs:{...(ct=K.parameters)==null?void 0:ct.docs,source:{originalSource:`() => {
  const [state, setState] = useState(() => fc.sample(messagesArbitary, {
    numRuns: 4,
    seed: 2324
  }));
  const [status, setStatus] = useState<"loading" | "hasNextPage" | "end" | "end-with-force">("hasNextPage");
  const [startStatus, setStartStatus] = useState<"loading" | "hasNextPage" | "end" | "end-with-force">("hasNextPage");
  const [page, setPage] = useState(1);
  const [startPage, setStartPage] = useState(1);
  const handleFetchMore = useCallback(() => {
    if (status === "hasNextPage") {
      setStatus("loading");
      setTimeout(() => {
        if (page > 4) {
          setStatus("end-with-force");
        } else {
          setState(prev => [...prev, ...fc.sample(messagesArbitary, {
            numRuns: 4
          })]);
          setPage(page + 1);
          setTimeout(() => setStatus("hasNextPage"), 100);
        }
      }, 1000);
    }
  }, [page, status]);
  const handleFetchMoreStart = useCallback(() => {
    if (startStatus === "hasNextPage") {
      setStartStatus("loading");
      setTimeout(() => {
        if (startPage > 4) {
          setStartStatus("end-with-force");
        } else {
          setState(prev => [...fc.sample(messagesArbitary, {
            numRuns: 4
          }), ...prev]);
          setStartPage(startPage + 1);
          setTimeout(() => setStartStatus("hasNextPage"), 100);
        }
      }, 1000);
    }
  }, [startPage, startStatus]);
  return <div>
      <Container>
        <ExampleScrollWrapper onFetchMore={handleFetchMore} onFetchMoreStart={handleFetchMoreStart} status={status} startStatus={startStatus}>
          <Stack vertical align="stretch" reverse>
            {state.map((message, i) => <div className="message" style={{
            overflow: "hidden"
          }} key={message.id}>
                <h1>
                  Name: {message.name} - {i + 1 - (startPage - 1) * 4}
                </h1>
                <p>ID: {message.id}</p>
                <p>Email: {message.email}</p>
                <p>{message.message}</p>
              </div>)}
          </Stack>
        </ExampleScrollWrapper>
      </Container>
    </div>;
}`,...(ft=(lt=K.parameters)==null?void 0:lt.docs)==null?void 0:ft.source}}};const as=["ObserverDiv","Example","ExampleReversed","ExampleReversedWithOffset","ExampleWithSideEffect"];export{U as Example,$ as ExampleReversed,z as ExampleReversedWithOffset,K as ExampleWithSideEffect,G as ObserverDiv,as as __namedExportsOrder,is as default};
//# sourceMappingURL=Infinite.stories-3895c113.js.map
