import{j as h}from"./jsx-runtime-d3c0a380.js";import{s as ft,a7 as Z,S as Q}from"./SPA-f1ed4a3e.js";import{r as f}from"./index-070054a4.js";import"./index-3825c7f5.js";import{O as Nt}from"./ObservedDiv-4528e8f8.js";import"./index-737698a4.js";class R extends Error{constructor(e=!1){super(),this.interruptExecution=e,this.footprint=R.SharedFootPrint}static isFailure(e){return e!=null&&e.footprint===R.SharedFootPrint}}R.SharedFootPrint=Symbol("fast-check/PreconditionFailure");class le{[Symbol.iterator](){return this}next(e){return{value:e,done:!0}}}le.nil=new le;function Et(){return le.nil}function*At(t,e){for(const n of t)yield e(n)}function*Ot(t,e){for(const n of t)yield*e(n)}function*Tt(t,e){for(const n of t)e(n)&&(yield n)}function*jt(t,e){for(let n=0;n<e;++n){const r=t.next();if(r.done)break;yield r.value}}function*Ft(t,e){let n=t.next();for(;!n.done&&e(n.value);)yield n.value,n=t.next()}function*Pt(t,e){for(let n=t.next();!n.done;n=t.next())yield n.value;for(const n of e)for(let r=n.next();!r.done;r=n.next())yield r.value}const ve=Symbol.iterator;class p{static nil(){return new p(Et())}static of(...e){return new p(e[ve]())}constructor(e){this.g=e}next(){return this.g.next()}[ve](){return this.g}map(e){return new p(At(this.g,e))}flatMap(e){return new p(Ot(this.g,e))}dropWhile(e){let n=!1;function*r(s){(n||!e(s))&&(n=!0,yield s)}return this.flatMap(r)}drop(e){if(e<=0)return this;let n=0;function r(){return n++<e}return this.dropWhile(r)}takeWhile(e){return new p(Ft(this.g,e))}take(e){return new p(jt(this.g,e))}filter(e){return new p(Tt(this.g,e))}every(e){for(const n of this.g)if(!e(n))return!1;return!0}has(e){for(const n of this.g)if(e(n))return[!0,n];return[!1,null]}join(...e){return new p(Pt(this.g,e))}getNthOrLast(e){let n=e,r=null;for(const s of this.g){if(n--===0)return s;r=s}return r}}function H(t){return new p(t)}const k=Symbol("fast-check/cloneMethod");function ee(t){return t!==null&&(typeof t=="object"||typeof t=="function")&&k in t&&typeof t[k]=="function"}function F(t){return ee(t)?t[k]():t}const Rt=Object.defineProperty;class d{constructor(e,n,r=void 0){this.value_=e,this.context=n,this.hasToBeCloned=r!==void 0||ee(e),this.readOnce=!1,this.hasToBeCloned?Rt(this,"value",{get:r!==void 0?r:this.getValue}):this.value=e}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[k]():(this.readOnce=!0,this.value_):this.value_}}const we=Object.assign;class w{filter(e){return new Vt(this,e)}map(e,n){return new Lt(this,e,n)}chain(e){return new Dt(this,e)}noShrink(){return new Wt(this)}noBias(){return new Bt(this)}}class Dt extends w{constructor(e,n){super(),this.arb=e,this.chainer=n}generate(e,n){const r=e.clone(),s=this.arb.generate(e,n);return this.valueChainer(s,e,r,n)}canShrinkWithoutContext(e){return!1}shrink(e,n){return this.isSafeContext(n)?(n.stoppedForOriginal?p.nil():this.arb.shrink(n.originalValue,n.originalContext).map(r=>this.valueChainer(r,n.clonedMrng.clone(),n.clonedMrng,n.originalBias))).join(n.chainedArbitrary.shrink(e,n.chainedContext).map(r=>{const s=we(we({},n),{chainedContext:r.context,stoppedForOriginal:!0});return new d(r.value_,s)})):p.nil()}valueChainer(e,n,r,s){const i=this.chainer(e.value_),a=i.generate(n,s),o={originalBias:s,originalValue:e.value_,originalContext:e.context,stoppedForOriginal:!1,chainedArbitrary:i,chainedContext:a.context,clonedMrng:r};return new d(a.value_,o)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalBias"in e&&"originalValue"in e&&"originalContext"in e&&"stoppedForOriginal"in e&&"chainedArbitrary"in e&&"chainedContext"in e&&"clonedMrng"in e}}class Lt extends w{constructor(e,n,r){super(),this.arb=e,this.mapper=n,this.unmapper=r,this.bindValueMapper=s=>this.valueMapper(s)}generate(e,n){const r=this.arb.generate(e,n);return this.valueMapper(r)}canShrinkWithoutContext(e){if(this.unmapper!==void 0)try{const n=this.unmapper(e);return this.arb.canShrinkWithoutContext(n)}catch{return!1}return!1}shrink(e,n){if(this.isSafeContext(n))return this.arb.shrink(n.originalValue,n.originalContext).map(this.bindValueMapper);if(this.unmapper!==void 0){const r=this.unmapper(e);return this.arb.shrink(r,void 0).map(this.bindValueMapper)}return p.nil()}mapperWithCloneIfNeeded(e){const n=e.value,r=this.mapper(n);return e.hasToBeCloned&&(typeof r=="object"&&r!==null||typeof r=="function")&&Object.isExtensible(r)&&!ee(r)&&Object.defineProperty(r,k,{get:()=>()=>this.mapperWithCloneIfNeeded(e)[0]}),[r,n]}valueMapper(e){const[n,r]=this.mapperWithCloneIfNeeded(e),s={originalValue:r,originalContext:e.context};return new d(n,s)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalValue"in e&&"originalContext"in e}}class Vt extends w{constructor(e,n){super(),this.arb=e,this.refinement=n,this.bindRefinementOnValue=r=>this.refinementOnValue(r)}generate(e,n){for(;;){const r=this.arb.generate(e,n);if(this.refinementOnValue(r))return r}}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)&&this.refinement(e)}shrink(e,n){return this.arb.shrink(e,n).filter(this.bindRefinementOnValue)}refinementOnValue(e){return this.refinement(e.value)}}class Wt extends w{constructor(e){super(),this.arb=e}generate(e,n){return this.arb.generate(e,n)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,n){return p.nil()}noShrink(){return this}}class Bt extends w{constructor(e){super(),this.arb=e}generate(e,n){return this.arb.generate(e,void 0)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,n){return this.arb.shrink(e,n)}noBias(){return this}}const dt=Function.prototype.apply,ne=Symbol("apply");function Gt(t){try{return t.apply}catch{return}}function Ut(t,e,n){const r=t;r[ne]=dt;const s=r[ne](e,n);return delete r[ne],s}function I(t,e,n){return Gt(t)===dt?t.apply(e,n):Ut(t,e,n)}const G=typeof Error<"u"?Error:void 0,$t=typeof String<"u"?String:void 0,Ie=Array.prototype.indexOf,Ce=Array.prototype.join,ke=Array.prototype.map,Me=Array.prototype.push,Ne=Array.prototype.slice;function zt(t){try{return t.indexOf}catch{return}}function Kt(t){try{return t.join}catch{return}}function qt(t){try{return t.map}catch{return}}function _t(t){try{return t.push}catch{return}}function Ht(t){try{return t.slice}catch{return}}function fe(t,...e){return zt(t)===Ie?t.indexOf(...e):I(Ie,t,e)}function Jt(t,...e){return Kt(t)===Ce?t.join(...e):I(Ce,t,e)}function E(t,e){return qt(t)===ke?t.map(e):I(ke,t,[e])}function b(t,...e){return _t(t)===Me?t.push(...e):I(Me,t,e)}function M(t,...e){return Ht(t)===Ne?t.slice(...e):I(Ne,t,e)}const Ee=String.prototype.substring,Ae=String.prototype.padStart,Oe=String.prototype.charCodeAt;function Xt(t){try{return t.substring}catch{return}}function Yt(t){try{return t.padStart}catch{return}}function Zt(t){try{return t.charCodeAt}catch{return}}function A(t,...e){return Xt(t)===Ee?t.substring(...e):I(Ee,t,e)}function Qt(t,...e){return Yt(t)===Ae?t.padStart(...e):I(Ae,t,e)}function Te(t,e){return Zt(t)===Oe?t.charCodeAt(e):I(Oe,t,[e])}const je=Number.prototype.toString;function en(t){try{return t.toString}catch{return}}function tn(t,...e){return en(t)===je?t.toString(...e):I(je,t,e)}const nn=Object.prototype.hasOwnProperty;function rn(t,e){return I(nn,t,[e])}class sn{constructor(e){this.producer=e}[Symbol.iterator](){return this.it===void 0&&(this.it=this.producer()),this.it}next(){return this.it===void 0&&(this.it=this.producer()),this.it.next()}}function _(t){return new sn(t)}const pt=Array.isArray,an=Object.defineProperty;function mt(t,e){return an(t,k,{value:()=>{const n=[];for(let r=0;r!==e.length;++r)b(n,e[r].value);return mt(n,e),n}})}function gt(t){let e=!1;const n=[],r=[];for(let s=0;s!==t.length;++s){const i=t[s];e=e||i.hasToBeCloned,b(n,i.value),b(r,i.context)}return e&&mt(n,t),new d(n,r)}function on(t,e,n){const r=[],s=pt(n)?n:[];for(let i=0;i!==t.length;++i)b(r,_(()=>t[i].shrink(e[i],s[i]).map(a=>{const o=E(e,(u,c)=>new d(F(u),s[c]));return[...M(o,0,i),a,...M(o,i+1)]}).map(gt)));return p.nil().join(...r)}class un extends w{constructor(e){super(),this.arbs=e;for(let n=0;n!==e.length;++n){const r=e[n];if(r==null||r.generate==null)throw new Error(`Invalid parameter encountered at index ${n}: expecting an Arbitrary`)}}generate(e,n){const r=[];for(let s=0;s!==this.arbs.length;++s)b(r,this.arbs[s].generate(e,n));return gt(r)}canShrinkWithoutContext(e){if(!pt(e)||e.length!==this.arbs.length)return!1;for(let n=0;n!==this.arbs.length;++n)if(!this.arbs[n].canShrinkWithoutContext(e[n]))return!1;return!0}shrink(e,n){return on(this.arbs,e,n)}}function J(...t){return new un(t)}const hn=Math.log;function cn(t){return 2+~~(hn(t+1)*.4342944819032518)}let ln={};function D(){return ln}const de=Symbol("UndefinedContextPlaceholder");function Fe(t){return t.context!==void 0?t:t.hasToBeCloned?new d(t.value_,de,()=>t.value):new d(t.value_,de)}class L{constructor(e,n){this.arb=e,this.predicate=n;const{beforeEach:r=L.dummyHook,afterEach:s=L.dummyHook,asyncBeforeEach:i,asyncAfterEach:a}=D()||{};if(i!==void 0)throw G(`"asyncBeforeEach" can't be set when running synchronous properties`);if(a!==void 0)throw G(`"asyncAfterEach" can't be set when running synchronous properties`);this.beforeEachHook=r,this.afterEachHook=s}isAsync(){return!1}generate(e,n){const r=this.arb.generate(e,n!=null?cn(n):void 0);return Fe(r)}shrink(e){if(e.context===void 0&&!this.arb.canShrinkWithoutContext(e.value_))return p.nil();const n=e.context!==de?e.context:void 0;return this.arb.shrink(e.value_,n).map(Fe)}runBeforeEach(){this.beforeEachHook()}runAfterEach(){this.afterEachHook()}run(e,n){n||this.beforeEachHook();try{const r=this.predicate(e);return r==null||r===!0?null:{error:new G("Property failed by returning false"),errorMessage:"Error: Property failed by returning false"}}catch(r){return R.isFailure(r)?r:r instanceof G&&r.stack?{error:r,errorMessage:r.stack}:{error:r,errorMessage:$t(r)}}finally{n||this.afterEachHook()}}beforeEach(e){const n=this.beforeEachHook;return this.beforeEachHook=()=>e(n),this}afterEach(e){const n=this.afterEachHook;return this.afterEachHook=()=>e(n),this}}L.dummyHook=()=>{};function xt(t,e){for(var n=[],r=0;r!=e;++r)n.push(t.unsafeNext());return n}function fn(t,e){var n=t.clone(),r=xt(n,e);return[r,n]}function pe(t,e){for(var n=0;n!=e;++n)t.unsafeNext()}function bt(t,e){var n=t.clone();return pe(n,e),n}var dn=214013,pn=2531011,mn=4294967295,gn=(1<<31)-1,re=function(t){return t*dn+pn&mn},se=function(t){return(t&gn)>>16},xn=function(){function t(e){this.seed=e}return t.prototype.clone=function(){return new t(this.seed)},t.prototype.next=function(){var e=new t(this.seed),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=re(this.seed),n=se(e),r=re(e),s=se(r);this.seed=re(r);var i=se(this.seed),a=i+(s+(n<<15)<<15);return a|0},t}(),bn=function(t){return new xn(t)},yn=function(){function t(e,n){this.states=e,this.index=n}return t.twist=function(e){for(var n=e.slice(),r=0;r!==t.N-t.M;++r){var s=(n[r]&t.MASK_UPPER)+(n[r+1]&t.MASK_LOWER);n[r]=n[r+t.M]^s>>>1^-(s&1)&t.A}for(var r=t.N-t.M;r!==t.N-1;++r){var i=(n[r]&t.MASK_UPPER)+(n[r+1]&t.MASK_LOWER);n[r]=n[r+t.M-t.N]^i>>>1^-(i&1)&t.A}var a=(n[t.N-1]&t.MASK_UPPER)+(n[0]&t.MASK_LOWER);return n[t.N-1]=n[t.M-1]^a>>>1^-(a&1)&t.A,n},t.seeded=function(e){var n=Array(t.N);n[0]=e;for(var r=1;r!==t.N;++r){var s=n[r-1]^n[r-1]>>>30;n[r]=Math.imul(t.F,s)+r|0}return n},t.from=function(e){return new t(t.twist(t.seeded(e)),0)},t.prototype.clone=function(){return new t(this.states,this.index)},t.prototype.next=function(){var e=new t(this.states,this.index),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.states[this.index];return e^=this.states[this.index]>>>t.U,e^=e<<t.S&t.B,e^=e<<t.T&t.C,e^=e>>>t.L,++this.index>=t.N&&(this.states=t.twist(this.states),this.index=0),e},t.N=624,t.M=397,t.R=31,t.A=2567483615,t.F=1812433253,t.U=11,t.S=7,t.B=2636928640,t.T=15,t.C=4022730752,t.L=18,t.MASK_LOWER=Math.pow(2,t.R)-1,t.MASK_UPPER=Math.pow(2,t.R),t}();function Sn(t){return yn.from(t)}var vn=function(){function t(e,n,r,s){this.s01=e,this.s00=n,this.s11=r,this.s10=s}return t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var e=new t(this.s01,this.s00,this.s11,this.s10),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.s00^this.s00<<23,n=this.s01^(this.s01<<23|this.s00>>>9),r=e^this.s10^(e>>>18|n<<14)^(this.s10>>>5|this.s11<<27),s=n^this.s11^n>>>18^this.s11>>>5,i=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=s,this.s10=r,i},t.prototype.jump=function(){var e=new t(this.s01,this.s00,this.s11,this.s10);return e.unsafeJump(),e},t.prototype.unsafeJump=function(){for(var e=0,n=0,r=0,s=0,i=[1667051007,2321340297,1548169110,304075285],a=0;a!==4;++a)for(var o=1;o;o<<=1)i[a]&o&&(e^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=e,this.s00=n,this.s11=r,this.s10=s},t}(),wn=function(t){return new vn(-1,~t,t|0,0)},In=function(){function t(e,n,r,s){this.s01=e,this.s00=n,this.s11=r,this.s10=s}return t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var e=new t(this.s01,this.s00,this.s11,this.s10),n=e.unsafeNext();return[n,e]},t.prototype.unsafeNext=function(){var e=this.s00+this.s10|0,n=this.s10^this.s00,r=this.s11^this.s01,s=this.s00,i=this.s01;return this.s00=s<<24^i>>>8^n^n<<16,this.s01=i<<24^s>>>8^r^(r<<16|n>>>16),this.s10=r<<5^n>>>27,this.s11=n<<5^r>>>27,e},t.prototype.jump=function(){var e=new t(this.s01,this.s00,this.s11,this.s10);return e.unsafeJump(),e},t.prototype.unsafeJump=function(){for(var e=0,n=0,r=0,s=0,i=[3639956645,3750757012,1261568508,386426335],a=0;a!==4;++a)for(var o=1;o;o<<=1)i[a]&o&&(e^=this.s01,n^=this.s00,r^=this.s11,s^=this.s10),this.unsafeNext();this.s01=e,this.s00=n,this.s11=r,this.s10=s},t}(),Cn=function(t){return new In(-1,~t,t|0,0)};function yt(t,e){if(t.sign!==e.sign)return me(t,{sign:-e.sign,data:e.data});for(var n=[],r=0,s=t.data,i=e.data,a=s.length-1,o=i.length-1;a>=0||o>=0;--a,--o){var u=a>=0?s[a]:0,c=o>=0?i[o]:0,m=u+c+r;n.push(m>>>0),r=~~(m/4294967296)}return r!==0&&n.push(r),{sign:t.sign,data:n.reverse()}}function kn(t){t.sign=1;for(var e=t.data,n=e.length-1;n>=0;--n)if(e[n]===4294967295)e[n]=0;else return e[n]+=1,t;return e.unshift(1),t}function Mn(t,e){for(var n=Math.max(t.length,e.length),r=0;r<n;++r){var s=r+t.length-n,i=r+e.length-n,a=s>=0?t[s]:0,o=i>=0?e[i]:0;if(a<o)return!0;if(a>o)return!1}return!1}function me(t,e){if(t.sign!==e.sign)return yt(t,{sign:-e.sign,data:e.data});var n=t.data,r=e.data;if(Mn(n,r)){var s=me(e,t);return s.sign=-s.sign,s}for(var i=[],a=0,o=n.length-1,u=r.length-1;o>=0||u>=0;--o,--u){var c=o>=0?n[o]:0,m=u>=0?r[u]:0,g=c-m-a;i.push(g>>>0),a=g<0?1:0}return{sign:t.sign,data:i.reverse()}}function Pe(t){for(var e=t.data,n=0;n!==e.length&&e[n]===0;++n);return n===e.length?(t.sign=1,t.data=[0],t):(e.splice(0,n),t)}function ie(t,e){if(e<0){var n=-e;t.sign=-1,t.data[0]=~~(n/4294967296),t.data[1]=n>>>0}else t.sign=1,t.data[0]=~~(e/4294967296),t.data[1]=e>>>0;return t}function Nn(t,e,n){var r=e.data[1],s=e.data[0],i=e.sign,a=n.data[1],o=n.data[0],u=n.sign;if(t.sign=1,i===1&&u===-1){var c=r+a,m=s+o+(c>4294967295?1:0);return t.data[0]=m>>>0,t.data[1]=c>>>0,t}var g=r,x=s,W=a,ye=o;i===-1&&(g=a,x=o,W=r,ye=s);var Se=0,B=g-W;return B<0&&(Se=1,B=B>>>0),t.data[0]=x-ye-Se,t.data[1]=B,t}function St(t,e){for(var n=t>2?~~(4294967296/t)*t:4294967296,r=e.unsafeNext()+2147483648;r>=n;)r=e.unsafeNext()+2147483648;return r%t}function vt(t,e,n){for(var r=e.length;;){for(var s=0;s!==r;++s){var i=s===0?e[0]+1:4294967296,a=St(i,n);t[s]=a}for(var s=0;s!==r;++s){var o=t[s],u=e[s];if(o<u)return t;if(o>u)break}}}function X(t,e,n){var r=Pe(kn(me(e,t))),s=r.data.slice(0),i=vt(s,r.data,n);return Pe(yt({sign:1,data:i},t))}function En(t,e,n){if(n!=null){var r=n.clone();return[X(t,e,r),r]}return function(s){var i=s.clone();return[X(t,e,i),i]}}var T=typeof BigInt<"u"?BigInt:void 0;function Y(t,e,n){for(var r=e-t+T(1),s=T(-2147483648),i=T(4294967296),a=i,o=1;a<r;)a*=i,++o;for(var u=a-a%r;;){for(var c=T(0),m=0;m!==o;++m){var g=n.unsafeNext();c=i*c+(T(g)-s)}if(c<u){var x=c%r;return x+t}}}function An(t,e,n){if(n!=null){var r=n.clone();return[Y(t,e,r),r]}return function(s){var i=s.clone();return[Y(t,e,i),i]}}var On=Number.MAX_SAFE_INTEGER,Tn={sign:1,data:[0,0]},jn={sign:1,data:[0,0]},Re={sign:1,data:[0,0]},ae=[0,0];function Fn(t,e,n,r){var s=n<=On?ie(Re,n):Nn(Re,ie(Tn,e),ie(jn,t));return s.data[1]===4294967295?(s.data[0]+=1,s.data[1]=0):s.data[1]+=1,vt(ae,s.data,r),ae[0]*4294967296+ae[1]+t}function O(t,e,n){var r=e-t;if(r<=4294967295){var s=St(r+1,n);return s+t}return Fn(t,e,r,n)}function Pn(t,e,n){if(n!=null){var r=n.clone();return[O(t,e,r),r]}return function(s){var i=s.clone();return[O(t,e,i),i]}}var Rn="module",Dn="6.0.4",Ln="bcf9517d53f733a335e678fbba321780c0543b29";const j=Object.freeze(Object.defineProperty({__proto__:null,__commitHash:Ln,__type:Rn,__version:Dn,congruential32:bn,generateN:fn,mersenne:Sn,skipN:bt,uniformArrayIntDistribution:En,uniformBigIntDistribution:An,uniformIntDistribution:Pn,unsafeGenerateN:xt,unsafeSkipN:pe,unsafeUniformArrayIntDistribution:X,unsafeUniformBigIntDistribution:Y,unsafeUniformIntDistribution:O,xoroshiro128plus:Cn,xorshift128plus:wn},Symbol.toStringTag,{value:"Module"}));var C;(function(t){t[t.None=0]="None",t[t.Verbose=1]="Verbose",t[t.VeryVerbose=2]="VeryVerbose"})(C||(C={}));const Vn=Date.now,Wn=Math.min,Bn=Math.random;class l{constructor(e){const n=e||{};this.seed=l.readSeed(n),this.randomType=l.readRandomType(n),this.numRuns=l.readNumRuns(n),this.verbose=l.readVerbose(n),this.maxSkipsPerRun=l.readOrDefault(n,"maxSkipsPerRun",100),this.timeout=l.safeTimeout(l.readOrDefault(n,"timeout",null)),this.skipAllAfterTimeLimit=l.safeTimeout(l.readOrDefault(n,"skipAllAfterTimeLimit",null)),this.interruptAfterTimeLimit=l.safeTimeout(l.readOrDefault(n,"interruptAfterTimeLimit",null)),this.markInterruptAsFailure=l.readBoolean(n,"markInterruptAsFailure"),this.skipEqualValues=l.readBoolean(n,"skipEqualValues"),this.ignoreEqualValues=l.readBoolean(n,"ignoreEqualValues"),this.logger=l.readOrDefault(n,"logger",r=>{console.log(r)}),this.path=l.readOrDefault(n,"path",""),this.unbiased=l.readBoolean(n,"unbiased"),this.examples=l.readOrDefault(n,"examples",[]),this.endOnFailure=l.readBoolean(n,"endOnFailure"),this.reporter=l.readOrDefault(n,"reporter",null),this.asyncReporter=l.readOrDefault(n,"asyncReporter",null),this.errorWithCause=l.readBoolean(n,"errorWithCause")}toParameters(){const e=r=>r!==null?r:void 0;return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:e(this.timeout),skipAllAfterTimeLimit:e(this.skipAllAfterTimeLimit),interruptAfterTimeLimit:e(this.interruptAfterTimeLimit),markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:e(this.reporter),asyncReporter:e(this.asyncReporter),errorWithCause:this.errorWithCause}}static read(e){return new l(e)}}l.createQualifiedRandomGenerator=t=>e=>{const n=t(e);return n.unsafeJump===void 0&&(n.unsafeJump=()=>pe(n,42)),n};l.readSeed=t=>{if(t.seed==null)return Vn()^Bn()*4294967296;const e=t.seed|0;if(t.seed===e)return e;const n=t.seed-e;return e^n*4294967296};l.readRandomType=t=>{if(t.randomType==null)return j.xorshift128plus;if(typeof t.randomType=="string")switch(t.randomType){case"mersenne":return l.createQualifiedRandomGenerator(j.mersenne);case"congruential":case"congruential32":return l.createQualifiedRandomGenerator(j.congruential32);case"xorshift128plus":return j.xorshift128plus;case"xoroshiro128plus":return j.xoroshiro128plus;default:throw new Error(`Invalid random specified: '${t.randomType}'`)}const e=t.randomType(0);if("min"in e&&e.min!==-2147483648)throw new Error(`Invalid random number generator: min must equal -0x80000000, got ${String(e.min)}`);if("max"in e&&e.max!==2147483647)throw new Error(`Invalid random number generator: max must equal 0x7fffffff, got ${String(e.max)}`);return"unsafeJump"in e?t.randomType:l.createQualifiedRandomGenerator(t.randomType)};l.readNumRuns=t=>t.numRuns!=null?t.numRuns:t.num_runs!=null?t.num_runs:100;l.readVerbose=t=>t.verbose==null?C.None:typeof t.verbose=="boolean"?t.verbose===!0?C.Verbose:C.None:t.verbose<=C.None?C.None:t.verbose>=C.VeryVerbose?C.VeryVerbose:t.verbose|0;l.readBoolean=(t,e)=>t[e]===!0;l.readOrDefault=(t,e,n)=>{const r=t[e];return r??n};l.safeTimeout=t=>t===null?null:Wn(t,2147483647);class Gn{constructor(e){this.property=e,this.property.runBeforeEach!==void 0&&this.property.runAfterEach!==void 0&&(this.runBeforeEach=()=>this.property.runBeforeEach(),this.runAfterEach=()=>this.property.runAfterEach())}isAsync(){return this.property.isAsync()}generate(e,n){return this.property.generate(e,void 0)}shrink(e){return this.property.shrink(e)}run(e,n){return this.property.run(e,n)}}class y{constructor(e){this.internalRng=e.clone()}clone(){return new y(this.internalRng)}next(e){return O(0,(1<<e)-1,this.internalRng)}nextBoolean(){return O(0,1,this.internalRng)==1}nextInt(e,n){return O(e??y.MIN_INT,n??y.MAX_INT,this.internalRng)}nextBigInt(e,n){return Y(e,n,this.internalRng)}nextArrayInt(e,n){return X(e,n,this.internalRng)}nextDouble(){const e=this.next(26),n=this.next(27);return(e*y.DBL_FACTOR+n)*y.DBL_DIVISOR}}y.MIN_INT=-2147483648;y.MAX_INT=2147483647;y.DBL_FACTOR=Math.pow(2,27);y.DBL_DIVISOR=Math.pow(2,-53);function Un(t,e,n){return e.unsafeJump(),t.generate(new y(e),n)}function*$n(t,e,n,r){for(let s=0;s!==r.length;++s)yield new d(r[s],void 0);for(let s=0,i=n(e);;++s)yield Un(t,i,s)}function zn(t,e,n){return()=>t.generate(new y(e),n)}function*Kn(t,e,n,r){yield*E(r,a=>()=>new d(a,void 0));let s=0,i=n(e);for(;;)i=i.jump?i.jump():bt(i,42),yield zn(t,i,s++)}function De(t){return t()}function qn(t,e,n){const r=e,s=t.split(":").map(a=>+a);if(s.length===0)return r.map(De);if(!s.every(a=>!Number.isNaN(a)))throw new Error(`Unable to replay, got invalid path=${t}`);let i=r.drop(s[0]).map(De);for(const a of s.slice(1)){const o=i.getNthOrLast(0);if(o===null)throw new Error(`Unable to replay, got wrong path=${t}`);i=n(o).drop(a)}return i}function _n(t,e){const n=Object.prototype.hasOwnProperty.call(t,"isAsync")?t:new L(t,()=>!0);return e.unbiased===!0?new Gn(n):n}function Hn(t,e){const n=typeof e=="number"?Object.assign(Object.assign({},D()),{numRuns:e}):Object.assign(Object.assign({},D()),e),r=l.read(n),s=_n(t,r),i=s.shrink.bind(s);return(r.path.length===0?H($n(s,r.seed,r.randomType,r.examples)):qn(r.path,H(Kn(s,r.seed,r.randomType,r.examples)),i)).take(r.numRuns).map(o=>o.value_)}function S(t,e){return[...Hn(t,e)]}const Jn=Math.floor,Le=Math.log;function Xn(t){return Jn(Le(t)/Le(2))}function Yn(t,e,n){if(t===e)return[{min:t,max:e}];if(t<0&&e>0){const a=n(-t),o=n(e);return[{min:-a,max:o},{min:e-o,max:e},{min:t,max:t+a}]}const r=n(e-t),s={min:t,max:t+r},i={min:e-r,max:e};return t<0?[i,s]:[s,i]}const Zn=Math.ceil,Qn=Math.floor;function Ve(t){return Qn(t/2)}function We(t){return Zn(t/2)}function Be(t,e,n){const r=t-e;function*s(){let a=n?void 0:e;const o=n?r:Ve(r);for(let u=o;u>0;u=Ve(u)){const c=u===r?e:t-u;yield new d(c,a),a=c}}function*i(){let a=n?void 0:e;const o=n?r:We(r);for(let u=o;u<0;u=We(u)){const c=u===r?e:t-u;yield new d(c,a),a=c}}return r>0?H(s()):H(i())}const Ge=Math.sign,er=Number.isInteger,tr=Object.is;class ge extends w{constructor(e,n){super(),this.min=e,this.max=n}generate(e,n){const r=this.computeGenerateRange(e,n);return new d(e.nextInt(r.min,r.max),void 0)}canShrinkWithoutContext(e){return typeof e=="number"&&er(e)&&!tr(e,-0)&&this.min<=e&&e<=this.max}shrink(e,n){if(!ge.isValidContext(e,n)){const r=this.defaultTarget();return Be(e,r,!0)}return this.isLastChanceTry(e,n)?p.of(new d(n,void 0)):Be(e,n,!1)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(e,n){if(n===void 0||e.nextInt(1,n)!==1)return{min:this.min,max:this.max};const r=Yn(this.min,this.max,Xn);if(r.length===1)return r[0];const s=e.nextInt(-2*(r.length-1),r.length-2);return s<0?r[0]:r[s+1]}isLastChanceTry(e,n){return e>0?e===n+1&&e>this.min:e<0?e===n-1&&e<this.max:!1}static isValidContext(e,n){if(n===void 0)return!1;if(typeof n!="number")throw new Error("Invalid context type passed to IntegerArbitrary (#1)");if(n!==0&&Ge(e)!==Ge(n))throw new Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}const Ue=Number.isInteger;function nr(t){const e=t.min!==void 0?t.min:-2147483648,n=t.max!==void 0?t.max:2147483647;return{min:e,max:n}}function V(t={}){const e=nr(t);if(e.min>e.max)throw new Error("fc.integer maximum value should be equal or greater than the minimum one");if(!Ue(e.min))throw new Error("fc.integer minimum value should be an integer");if(!Ue(e.max))throw new Error("fc.integer maximum value should be an integer");return new ge(e.min,e.max)}const $e=new Map;function wt(t){if(t===void 0)return{depth:0};if(typeof t!="string")return t;const e=$e.get(t);if(e!==void 0)return e;const n={depth:0};return $e.set(t,n),n}class rr{constructor(e,n,r){this.arb=e,this.mrng=n,this.biasFactor=r}attemptExact(){}next(){return this.arb.generate(this.mrng,this.biasFactor)}}const sr=Math.min,ir=Math.max;class ar{constructor(e,n,r,s){this.arb=e,this.mrng=n,this.slices=r,this.biasFactor=s,this.activeSliceIndex=0,this.nextIndexInSlice=0,this.lastIndexInSlice=-1}attemptExact(e){if(e!==0&&this.mrng.nextInt(1,this.biasFactor)===1){const n=[];for(let r=0;r!==this.slices.length;++r)this.slices[r].length===e&&b(n,r);if(n.length===0)return;this.activeSliceIndex=n[this.mrng.nextInt(0,n.length-1)],this.nextIndexInSlice=0,this.lastIndexInSlice=e-1}}next(){if(this.nextIndexInSlice<=this.lastIndexInSlice)return new d(this.slices[this.activeSliceIndex][this.nextIndexInSlice++],void 0);if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.arb.generate(this.mrng,this.biasFactor);this.activeSliceIndex=this.mrng.nextInt(0,this.slices.length-1);const e=this.slices[this.activeSliceIndex];if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.nextIndexInSlice=1,this.lastIndexInSlice=e.length-1,new d(e[0],void 0);const n=this.mrng.nextInt(0,e.length-1),r=this.mrng.nextInt(0,e.length-1);return this.nextIndexInSlice=sr(n,r),this.lastIndexInSlice=ir(n,r),new d(e[this.nextIndexInSlice++],void 0)}}function ze(t,e,n,r){return r===void 0||n.length===0||e.nextInt(1,r)!==1?new rr(t,e,r):new ar(t,e,n,r)}const or=Math.floor,Ke=Math.log,qe=Math.max,ur=Array.isArray;function oe(t,e){return t===e?t:t+or(Ke(e-t)/Ke(2))}class xe extends w{constructor(e,n,r,s,i,a,o){super(),this.arb=e,this.minLength=n,this.maxGeneratedLength=r,this.maxLength=s,this.setBuilder=a,this.customSlices=o,this.lengthArb=V({min:n,max:r}),this.depthContext=wt(i)}preFilter(e){if(this.setBuilder===void 0)return e;const n=this.setBuilder();for(let r=0;r!==e.length;++r)n.tryAdd(e[r]);return n.getData()}static makeItCloneable(e,n){return e[k]=()=>{const r=[];for(let s=0;s!==n.length;++s)b(r,n[s].value);return this.makeItCloneable(r,n),r},e}generateNItemsNoDuplicates(e,n,r,s){let i=0;const a=e(),o=ze(this.arb,r,this.customSlices,s);for(;a.size()<n&&i<this.maxGeneratedLength;){const u=o.next();a.tryAdd(u)?i=0:i+=1}return a.getData()}safeGenerateNItemsNoDuplicates(e,n,r,s){const i=qe(0,n-oe(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=i;try{return this.generateNItemsNoDuplicates(e,n,r,s)}finally{this.depthContext.depth-=i}}generateNItems(e,n,r){const s=[],i=ze(this.arb,n,this.customSlices,r);i.attemptExact(e);for(let a=0;a!==e;++a){const o=i.next();b(s,o)}return s}safeGenerateNItems(e,n,r){const s=qe(0,e-oe(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=s;try{return this.generateNItems(e,n,r)}finally{this.depthContext.depth-=s}}wrapper(e,n,r,s){const i=n?this.preFilter(e):e;let a=!1;const o=[],u=[];for(let m=0;m!==i.length;++m){const g=i[m];a=a||g.hasToBeCloned,b(o,g.value),b(u,g.context)}a&&xe.makeItCloneable(o,i);const c={shrunkOnce:n,lengthContext:e.length===i.length&&r!==void 0?r:void 0,itemsContexts:u,startIndex:s};return new d(o,c)}generate(e,n){const r=this.applyBias(e,n),s=r.size,i=this.setBuilder!==void 0?this.safeGenerateNItemsNoDuplicates(this.setBuilder,s,e,r.biasFactorItems):this.safeGenerateNItems(s,e,r.biasFactorItems);return this.wrapper(i,!1,void 0,0)}applyBias(e,n){if(n===void 0)return{size:this.lengthArb.generate(e,void 0).value};if(this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:n};if(e.nextInt(1,n)!==1)return{size:this.lengthArb.generate(e,void 0).value};if(e.nextInt(1,n)!==1||this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:n};const r=oe(this.minLength,this.maxGeneratedLength);return{size:V({min:this.minLength,max:r}).generate(e,void 0).value,biasFactorItems:n}}canShrinkWithoutContext(e){if(!ur(e)||this.minLength>e.length||e.length>this.maxLength)return!1;for(let r=0;r!==e.length;++r)if(!(r in e)||!this.arb.canShrinkWithoutContext(e[r]))return!1;return this.preFilter(E(e,r=>new d(r,void 0))).length===e.length}shrinkItemByItem(e,n,r){const s=[];for(let i=n.startIndex;i<r;++i)b(s,_(()=>this.arb.shrink(e[i],n.itemsContexts[i]).map(a=>{const o=E(M(e,0,i),(c,m)=>new d(F(c),n.itemsContexts[m])),u=E(M(e,i+1),(c,m)=>new d(F(c),n.itemsContexts[m+i+1]));return[[...o,a,...u],void 0,i]})));return p.nil().join(...s)}shrinkImpl(e,n){if(e.length===0)return p.nil();const r=n!==void 0?n:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[],startIndex:0};return this.lengthArb.shrink(e.length,r.lengthContext).drop(r.shrunkOnce&&r.lengthContext===void 0&&e.length>this.minLength+1?1:0).map(s=>{const i=e.length-s.value;return[E(M(e,i),(a,o)=>new d(F(a),r.itemsContexts[o+i])),s.context,0]}).join(_(()=>e.length>this.minLength?this.shrinkItemByItem(e,r,1):this.shrinkItemByItem(e,r,e.length))).join(e.length>this.minLength?_(()=>{const s={shrunkOnce:!1,lengthContext:void 0,itemsContexts:M(r.itemsContexts,1),startIndex:0};return this.shrinkImpl(M(e,1),s).filter(i=>this.minLength<=i[0].length+1).map(i=>[[new d(F(e[0]),r.itemsContexts[0]),...i[0]],void 0,0])}):p.nil())}shrink(e,n){return this.shrinkImpl(e,n).map(r=>this.wrapper(r[0],!0,r[1],r[2]))}}const hr=Math.floor,cr=Math.min,lr=2147483647,N=["xsmall","small","medium","large","xlarge"],fr=["-4","-3","-2","-1","=","+1","+2","+3","+4"],It="small";function dr(t,e){switch(e){case"xsmall":return hr(1.1*t)+1;case"small":return 2*t+10;case"medium":return 11*t+100;case"large":return 101*t+1e3;case"xlarge":return 1001*t+1e4;default:throw new Error(`Unable to compute lengths based on received size: ${e}`)}}function Ct(t,e){const n=fe(fr,t);if(n===-1)return t;const r=fe(N,e);if(r===-1)throw new Error(`Unable to offset size based on the unknown defaulted one: ${e}`);const s=r+n-4;return s<0?N[0]:s>=N.length?N[N.length-1]:N[s]}function pr(t,e,n,r){const{baseSize:s=It,defaultSizeToMaxWhenMaxSpecified:i}=D()||{},a=t!==void 0?t:r&&i?"max":s;if(a==="max")return n;const o=Ct(a,s);return cr(dr(e,o),n)}function mr(t,e){if(typeof t=="number")return 1/t;const{baseSize:n=It,defaultSizeToMaxWhenMaxSpecified:r}=D()||{},s=t!==void 0?t:e&&r?"max":n;if(s==="max")return 0;switch(Ct(s,n)){case"xsmall":return 1;case"small":return .5;case"medium":return .25;case"large":return .125;case"xlarge":return .0625}}function gr(t,e={}){const n=e.size,r=e.minLength||0,s=e.maxLength,i=e.depthIdentifier,a=s!==void 0?s:lr,u=pr(n,r,a,s!==void 0),c=e.experimentalCustomSlices||[];return new xe(t,r,u,a,i,void 0,c)}function xr(t){return t===1}function br(t){if(typeof t!="boolean")throw new Error("Unsupported input type");return t===!0?1:0}function yr(){return V({min:0,max:1}).map(xr,br).noBias()}const _e=Object.is;class kt extends w{constructor(e){super(),this.values=e}generate(e,n){const r=this.values.length===1?0:e.nextInt(0,this.values.length-1),s=this.values[r];return ee(s)?new d(s,r,()=>s[k]()):new d(s,r)}canShrinkWithoutContext(e){for(let n=0;n!==this.values.length;++n)if(_e(this.values[n],e))return!0;return!1}shrink(e,n){return n===0||_e(e,this.values[0])?p.nil():p.of(new d(this.values[0],0))}}function Sr(...t){if(t.length===0)throw new Error("fc.constantFrom expects at least one parameter");return new kt(t)}const vr=String.fromCodePoint;function wr(t){if(typeof t!="string")throw new Error("Cannot unmap non-string");if(t.length===0||t.length>2)throw new Error("Cannot unmap string with more or less than one character");const e=Te(t,0);if(t.length===1)return e;const n=Te(t,1);if(e<55296||e>56319||n<56320||n>57343)throw new Error("Cannot unmap invalid surrogate pairs");return t.codePointAt(0)}function Ir(t,e,n,r){return V({min:t,max:e}).map(s=>vr(n(s)),s=>r(wr(s)))}function He(t){return t}function Cr(){return Ir(32,126,He,He)}function P(t){return new kt([t])}const kr=Number.POSITIVE_INFINITY,Mr=Number.MAX_SAFE_INTEGER,Nr=Number.isInteger,Er=Math.floor,Ar=Math.pow,Or=Math.min;class be extends w{static from(e,n,r){if(e.length===0)throw new Error(`${r} expects at least one weighted arbitrary`);let s=0;for(let a=0;a!==e.length;++a){if(e[a].arbitrary===void 0)throw new Error(`${r} expects arbitraries to be specified`);const u=e[a].weight;if(s+=u,!Nr(u))throw new Error(`${r} expects weights to be integer values`);if(u<0)throw new Error(`${r} expects weights to be superior or equal to 0`)}if(s<=0)throw new Error(`${r} expects the sum of weights to be strictly superior to 0`);const i={depthBias:mr(n.depthSize,n.maxDepth!==void 0),maxDepth:n.maxDepth!=null?n.maxDepth:kr,withCrossShrink:!!n.withCrossShrink};return new be(e,i,wt(n.depthIdentifier))}constructor(e,n,r){super(),this.warbs=e,this.constraints=n,this.context=r;let s=0;this.cumulatedWeights=[];for(let i=0;i!==e.length;++i)s+=e[i].weight,b(this.cumulatedWeights,s);this.totalWeight=s}generate(e,n){if(this.mustGenerateFirst())return this.safeGenerateForIndex(e,0,n);const r=e.nextInt(this.computeNegDepthBenefit(),this.totalWeight-1);for(let s=0;s!==this.cumulatedWeights.length;++s)if(r<this.cumulatedWeights[s])return this.safeGenerateForIndex(e,s,n);throw new Error("Unable to generate from fc.frequency")}canShrinkWithoutContext(e){return this.canShrinkWithoutContextIndex(e)!==-1}shrink(e,n){if(n!==void 0){const s=n,i=s.selectedIndex,a=s.originalBias,u=this.warbs[i].arbitrary.shrink(e,s.originalContext).map(c=>this.mapIntoValue(i,c,null,a));if(s.clonedMrngForFallbackFirst!==null){s.cachedGeneratedForFirst===void 0&&(s.cachedGeneratedForFirst=this.safeGenerateForIndex(s.clonedMrngForFallbackFirst,0,a));const c=s.cachedGeneratedForFirst;return p.of(c).join(u)}return u}const r=this.canShrinkWithoutContextIndex(e);return r===-1?p.nil():this.defaultShrinkForFirst(r).join(this.warbs[r].arbitrary.shrink(e,void 0).map(s=>this.mapIntoValue(r,s,null,void 0)))}defaultShrinkForFirst(e){++this.context.depth;try{if(!this.mustFallbackToFirstInShrink(e)||this.warbs[0].fallbackValue===void 0)return p.nil()}finally{--this.context.depth}const n=new d(this.warbs[0].fallbackValue.default,void 0);return p.of(this.mapIntoValue(0,n,null,void 0))}canShrinkWithoutContextIndex(e){if(this.mustGenerateFirst())return this.warbs[0].arbitrary.canShrinkWithoutContext(e)?0:-1;try{++this.context.depth;for(let n=0;n!==this.warbs.length;++n){const r=this.warbs[n];if(r.weight!==0&&r.arbitrary.canShrinkWithoutContext(e))return n}return-1}finally{--this.context.depth}}mapIntoValue(e,n,r,s){const i={selectedIndex:e,originalBias:s,originalContext:n.context,clonedMrngForFallbackFirst:r};return new d(n.value,i)}safeGenerateForIndex(e,n,r){++this.context.depth;try{const s=this.warbs[n].arbitrary.generate(e,r),i=this.mustFallbackToFirstInShrink(n)?e.clone():null;return this.mapIntoValue(n,s,i,r)}finally{--this.context.depth}}mustGenerateFirst(){return this.constraints.maxDepth<=this.context.depth}mustFallbackToFirstInShrink(e){return e!==0&&this.constraints.withCrossShrink&&this.warbs[0].weight!==0}computeNegDepthBenefit(){const e=this.constraints.depthBias;if(e<=0||this.warbs[0].weight===0)return 0;const n=Er(Ar(1+e,this.context.depth))-1;return-Or(this.totalWeight*n,Mr)||0}}function Tr(t,e={}){const n=e.freq==null?5:e.freq,r=rn(e,"nil")?e.nil:null,i=[{arbitrary:P(r),weight:1,fallbackValue:{default:r}},{arbitrary:t,weight:n}],a={withCrossShrink:!0,depthSize:e.depthSize,maxDepth:e.maxDepth,depthIdentifier:e.depthIdentifier};return be.from(i,a,"fc.option")}const jr=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","__proto__","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","apply","arguments","bind","call","caller","length","name","prototype","key","ref"];function Fr(t,e,n){let r;try{r=n(t)}catch{return}for(const s of r)if(!e.canShrinkWithoutContext(s))return;return r}function Pr(t,e){const n=[];for(const r of jr){const s=Fr(r,t,e);s!==void 0&&b(n,s)}return n}function Rr(t){return Jt(t,"")}function Je(t){if(typeof t!="string")throw new Error("Cannot unmap the passed value");return[...t]}const Xe=Object.assign;function Dr(t={}){const e=Cr(),n=Pr(e,Je),r=Xe(Xe({},t),{experimentalCustomSlices:n});return gr(e,r).map(Rr,Je)}const Lr=Object.keys,Vr=Object.getOwnPropertySymbols,Wr=Object.getOwnPropertyDescriptor;function Br(t){const e=Lr(t),n=Vr(t);for(let r=0;r!==n.length;++r){const s=n[r],i=Wr(t,s);i&&i.enumerable&&e.push(s)}return e}const Gr=Object.create,Ur=Object.defineProperty,$r=Object.getOwnPropertyDescriptor,zr=Object.getOwnPropertyNames,Kr=Object.getOwnPropertySymbols;function qr(t,e){return function(r){const s=r[1]?Gr(null):{};for(let i=0;i!==t.length;++i){const a=r[0][i];a!==e&&Ur(s,t[i],{value:a,configurable:!0,enumerable:!0,writable:!0})}return s}}function _r(t,e){return function(r){if(typeof r!="object"||r===null)throw new Error("Incompatible instance received: should be a non-null object");const s=Object.getPrototypeOf(r)===null,i="constructor"in r&&r.constructor===Object;if(!s&&!i)throw new Error("Incompatible instance received: should be of exact type Object");let a=0;const o=[];for(let m=0;m!==t.length;++m){const g=$r(r,t[m]);if(g!==void 0){if(!g.configurable||!g.enumerable||!g.writable)throw new Error("Incompatible instance received: should contain only c/e/w properties");if(g.get!==void 0||g.set!==void 0)throw new Error("Incompatible instance received: should contain only no get/set properties");++a,b(o,g.value)}else b(o,e)}const u=zr(r).length,c=Kr(r).length;if(a!==u+c)throw new Error("Incompatible instance received: should not contain extra properties");return[o,s]}}const ue=Symbol("no-key");function he(t,e,n){const r=Br(t),s=[];for(let i=0;i!==r.length;++i){const a=r[i],o=t[a];e===void 0||fe(e,a)!==-1?b(s,o):b(s,Tr(o,{nil:ue}))}return J(J(...s),n?P(!1):yr()).map(qr(r,ue),_r(r,ue))}function Hr(t,e){const n=e===void 0||e.noNullPrototype===void 0||e.noNullPrototype;if(e==null)return he(t,void 0,n);if("withDeletedKeys"in e&&"requiredKeys"in e)throw new Error("requiredKeys and withDeletedKeys cannot be used together in fc.record");if(!("requiredKeys"in e&&e.requiredKeys!==void 0||"withDeletedKeys"in e&&!!e.withDeletedKeys))return he(t,void 0,n);const s=("requiredKeys"in e?e.requiredKeys:void 0)||[];for(let i=0;i!==s.length;++i){const a=Object.getOwnPropertyDescriptor(t,s[i]);if(a===void 0)throw new Error("requiredKeys cannot reference keys that have not been defined in recordModel");if(!a.enumerable)throw new Error("requiredKeys cannot reference keys that have are enumerable in recordModel")}return he(t,s,n)}function Mt(t){return Qt(tn(t,16),8,"0")}function Jr(t){if(typeof t!="string")throw new Error("Unsupported type");if(t.length!==8)throw new Error("Unsupported value: invalid length");const e=parseInt(t,16);if(t!==Mt(e))throw new Error("Unsupported value: invalid content");return e}function ce(t,e){return V({min:t,max:e}).map(Mt,Jr)}function Xr(t){return`${t[0]}-${A(t[1],4)}-${A(t[1],0,4)}-${A(t[2],0,4)}-${A(t[2],4)}${t[3]}`}const Yr=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/;function Zr(t){if(typeof t!="string")throw new Error("Unsupported type");const e=Yr.exec(t);if(e===null)throw new Error("Unsupported type");return[e[1],e[3]+e[2],e[4]+A(e[5],0,4),A(e[5],4)]}function Qr(){const t=ce(0,4294967295),e=ce(268435456,1610612735),n=ce(2147483648,3221225471);return J(t,e,n,t).map(Xr,Zr)}const es=ft.div`
  height: 1400px;
  width: 500px;
  position: relative;
  border: 1px solid black;
  overflow: auto;
`,te=ft.div`
  height: 500px;
  width: 500px;
  border: 1px solid black;
  overflow: hidden;
`,hs={title:"Core/Infinite"},U=()=>{const[t,e]=f.useState(0),n=f.useCallback(()=>{e(r=>r+1)},[]);return h.jsxs(es,{children:["Scroll the top in and out of view. Observe count: ",t,h.jsx(Nt,{onIntersect:n})]})},v=J(Sr("Tom Nook","Chirs P","Chris G","Chris N"),Dr({minLength:500,maxLength:500})).chain(([t,e])=>Hr({id:Qr(),name:P(t),email:P(`${t.toLowerCase().replace(" ","_")}@deskpro.com`),message:P(e)})),$=()=>{const[t,e]=f.useState(()=>S(v,{numRuns:4,seed:2324})),[n,r]=f.useState("hasNextPage"),s=f.useCallback(()=>{r("loading"),setTimeout(()=>{e(a=>[...a,...S(v,{numRuns:4})]),t.length>15?r("end-with-force"):r("hasNextPage")},1e3)},[t.length]),i=f.useCallback(()=>{setTimeout(()=>{e(a=>[...S(v,{numRuns:1}),...a])},500)},[]);return h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:i,children:"submit message"}),h.jsx(te,{children:h.jsx(Z,{onFetchMore:s,status:n,fetchMoreText:"Fetch more",autoscrollText:"Jump to start",anchor:!0,children:h.jsx(Q,{vertical:!0,align:"stretch",children:t.map(a=>h.jsxs("div",{style:{overflow:"hidden"},children:[h.jsxs("h1",{children:["Name: ",a.name]}),h.jsxs("p",{children:["Email: ",a.email]}),h.jsxs("p",{children:[" ",a.message]})]},a.id))})})})]})},z=()=>{const[t,e]=f.useState(()=>S(v,{numRuns:4,seed:2324})),[n,r]=f.useState("hasNextPage"),s=f.useCallback(()=>{r("loading"),setTimeout(()=>{e(a=>[...S(v,{numRuns:4}),...a]),t.length>15?r("end-with-force"):r("hasNextPage")},1e3)},[t.length]),i=f.useCallback(()=>{setTimeout(()=>{e(a=>[...a,...S(v,{numRuns:1})])},500)},[]);return h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:i,children:"submit message"}),h.jsx(te,{children:h.jsx(Z,{onFetchMore:s,status:n,fetchMoreText:"Fetch more",autoscrollText:"Jump to start",reverse:!0,anchor:!0,children:h.jsx(Q,{vertical:!0,align:"stretch",reverse:!0,padding:10,grow:!0,children:t.map(a=>h.jsxs("div",{style:{overflow:"hidden"},children:[h.jsxs("h1",{children:["Name: ",a.name]}),h.jsxs("p",{children:["Email: ",a.email]}),h.jsxs("p",{children:[" ",a.message]})]},a.id))})})})]})},K=()=>{const[t,e]=f.useState(()=>S(v,{numRuns:4,seed:2324})),[n,r]=f.useState("hasNextPage"),s=f.useCallback(()=>{r("loading"),setTimeout(()=>{e(o=>[...o,...S(v,{numRuns:4})]),t.length>15?r("end-with-force"):r("hasNextPage")},1e3)},[t.length]),i=f.useCallback(()=>{setTimeout(()=>{e(o=>[...S(v,{numRuns:1}),...o])},500)},[]),a=f.useRef(null);return f.useEffect(()=>{var o;t.length===4&&((o=a.current)==null||o.scrollIntoView())},[t.length]),h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:i,children:"submit message"}),h.jsx(te,{children:h.jsx(Z,{onFetchMore:s,status:n,fetchMoreText:"Fetch more",autoscrollText:"Autoscroll",reverse:!0,children:h.jsx(Q,{vertical:!0,align:"stretch",reverse:!0,children:t.map((o,u)=>h.jsxs("div",{style:{overflow:"hidden"},ref:u===0?a:void 0,children:[h.jsxs("h1",{children:["Name: ",o.name," - ",u]}),h.jsxs("p",{children:["Email: ",o.email]}),h.jsxs("p",{children:[" ",o.message]}),h.jsxs("p",{children:[" ",o.message]}),h.jsxs("p",{children:[" ",o.message]}),h.jsxs("p",{children:[" ",o.message]})]},o.id))})})})]})},ts=t=>{const[e,n]=f.useState(!1);return f.useEffect(()=>{const r=()=>n(!0);if(t.current&&!e){const s=t.current,i=a=>{["ArrowUp","ArrowDown"].includes(a.key)&&n(!0)};return s.addEventListener("wheel",r),s.addEventListener("mousedown",r),s.addEventListener("keyup",i),s.addEventListener("DOMMouseScroll",r),s.addEventListener("touchmove",r),()=>{s.removeEventListener("wheel",r),s.removeEventListener("mousedown",r),s.removeEventListener("keyup",i),s.removeEventListener("DOMMouseScroll",r),s.removeEventListener("touchmove",r)}}},[e,t]),{hasUserScrolled:e,reset:()=>n(!1)}},ns=({onFetchMore:t,status:e,startStatus:n,children:r,onFetchMoreStart:s})=>{const i=f.useRef(null),{hasUserScrolled:a}=ts(i),o=f.useRef(),u=f.useCallback(()=>{var x;clearTimeout(o.current);const g=(x=i.current)==null?void 0:x.querySelector(".message");!a&&g&&g.scrollIntoView()},[a]);f.useEffect(u,[u,e]);const c=f.useCallback(()=>{a&&(t==null||t())},[a,t]),m=f.useCallback(()=>{a&&(s==null||s())},[a,s]);return h.jsx(Z,{fetchMoreText:"Fetch more",autoscrollText:"Autoscroll",status:e,startStatus:n,reverse:!0,anchor:a,justify:"flex-end",onFetchMore:c,onFetchMoreStart:m,scrollRef:i,scrollSideEffect:u,onResize:u,width:"100%",children:r})},q=()=>{const[t,e]=f.useState(()=>S(v,{numRuns:4,seed:2324})),[n,r]=f.useState("hasNextPage"),[s,i]=f.useState("hasNextPage"),[a,o]=f.useState(1),[u,c]=f.useState(1),m=f.useCallback(()=>{n==="hasNextPage"&&(r("loading"),setTimeout(()=>{a>4?r("end-with-force"):(e(x=>[...x,...S(v,{numRuns:4})]),o(a+1),setTimeout(()=>r("hasNextPage"),100))},1e3))},[a,n]),g=f.useCallback(()=>{s==="hasNextPage"&&(i("loading"),setTimeout(()=>{u>4?i("end-with-force"):(e(x=>[...S(v,{numRuns:4}),...x]),c(u+1),setTimeout(()=>i("hasNextPage"),100))},1e3))},[u,s]);return h.jsx("div",{children:h.jsx(te,{children:h.jsx(ns,{onFetchMore:m,onFetchMoreStart:g,status:n,startStatus:s,children:h.jsx(Q,{vertical:!0,align:"stretch",reverse:!0,children:t.map((x,W)=>h.jsxs("div",{className:"message",style:{overflow:"hidden"},children:[h.jsxs("h1",{children:["Name: ",x.name," - ",W+1-(u-1)*4]}),h.jsxs("p",{children:["ID: ",x.id]}),h.jsxs("p",{children:["Email: ",x.email]}),h.jsx("p",{children:x.message})]},x.id))})})})})};var Ye,Ze,Qe;U.parameters={...U.parameters,docs:{...(Ye=U.parameters)==null?void 0:Ye.docs,source:{originalSource:`() => {
  const [state, setState] = useState(0);
  const handleIntersect = useCallback(() => {
    setState(prev => prev + 1);
  }, []);
  return <RelativeContainer>
      Scroll the top in and out of view. Observe count: {state}
      <ObservedDiv onIntersect={handleIntersect} />
    </RelativeContainer>;
}`,...(Qe=(Ze=U.parameters)==null?void 0:Ze.docs)==null?void 0:Qe.source}}};var et,tt,nt;$.parameters={...$.parameters,docs:{...(et=$.parameters)==null?void 0:et.docs,source:{originalSource:`() => {
  const [state, setState] = useState(() => fc.sample(messagesArbitary, {
    numRuns: 4,
    seed: 2324
  }));
  const [infiniteState, setInfiniteState] = useState<"loading" | "hasNextPage" | "end" | "end-with-force">("hasNextPage");
  const handleFetchMore = useCallback(() => {
    setInfiniteState("loading");
    setTimeout(() => {
      setState(prev => [...prev, ...fc.sample(messagesArbitary, {
        numRuns: 4
      })]);
      if (state.length > 15) {
        setInfiniteState("end-with-force");
      } else {
        setInfiniteState("hasNextPage");
      }
    }, 1000);
  }, [state.length]);
  const handleNewMessage = useCallback(() => {
    setTimeout(() => {
      setState(prev => [...fc.sample(messagesArbitary, {
        numRuns: 1
      }), ...prev]);
    }, 500);
  }, []);
  return <>
      <button onClick={handleNewMessage}>submit message</button>
      <Container>
        <Infinite onFetchMore={handleFetchMore} status={infiniteState} fetchMoreText={"Fetch more"} autoscrollText={"Jump to start"} anchor>
          <Stack vertical align="stretch">
            {state.map(message => <div style={{
            overflow: "hidden"
          }} key={message.id}>
                <h1>Name: {message.name}</h1>
                <p>Email: {message.email}</p>
                <p> {message.message}</p>
              </div>)}
          </Stack>
        </Infinite>
      </Container>
    </>;
}`,...(nt=(tt=$.parameters)==null?void 0:tt.docs)==null?void 0:nt.source}}};var rt,st,it;z.parameters={...z.parameters,docs:{...(rt=z.parameters)==null?void 0:rt.docs,source:{originalSource:`() => {
  const [state, setState] = useState(() => fc.sample(messagesArbitary, {
    numRuns: 4,
    seed: 2324
  }));
  const [infiniteState, setInfiniteState] = useState<"loading" | "hasNextPage" | "end" | "end-with-force">("hasNextPage");
  const handleFetchMore = useCallback(() => {
    setInfiniteState("loading");
    setTimeout(() => {
      setState(prev => [...fc.sample(messagesArbitary, {
        numRuns: 4
      }), ...prev]);
      if (state.length > 15) {
        setInfiniteState("end-with-force");
      } else {
        setInfiniteState("hasNextPage");
      }
    }, 1000);
  }, [state.length]);
  const handleNewMessage = useCallback(() => {
    setTimeout(() => {
      setState(prev => [...prev, ...fc.sample(messagesArbitary, {
        numRuns: 1
      })]);
    }, 500);
  }, []);
  return <>
      <button onClick={handleNewMessage}>submit message</button>
      <Container>
        <Infinite onFetchMore={handleFetchMore} status={infiniteState} fetchMoreText={"Fetch more"} autoscrollText={"Jump to start"} reverse anchor>
          <Stack vertical align="stretch" reverse padding={10} grow>
            {state.map(message => <div style={{
            overflow: "hidden"
          }} key={message.id}>
                <h1>Name: {message.name}</h1>
                <p>Email: {message.email}</p>
                <p> {message.message}</p>
              </div>)}
          </Stack>
        </Infinite>
      </Container>
    </>;
}`,...(it=(st=z.parameters)==null?void 0:st.docs)==null?void 0:it.source}}};var at,ot,ut;K.parameters={...K.parameters,docs:{...(at=K.parameters)==null?void 0:at.docs,source:{originalSource:`() => {
  const [state, setState] = useState(() => fc.sample(messagesArbitary, {
    numRuns: 4,
    seed: 2324
  }));
  const [infiniteState, setInfiniteState] = useState<"loading" | "hasNextPage" | "end" | "end-with-force">("hasNextPage");
  const handleFetchMore = useCallback(() => {
    setInfiniteState("loading");
    setTimeout(() => {
      setState(prev => [...prev, ...fc.sample(messagesArbitary, {
        numRuns: 4
      })]);
      if (state.length > 15) {
        setInfiniteState("end-with-force");
      } else {
        setInfiniteState("hasNextPage");
      }
    }, 1000);
  }, [state.length]);
  const handleNewMessage = useCallback(() => {
    setTimeout(() => {
      setState(prev => [...fc.sample(messagesArbitary, {
        numRuns: 1
      }), ...prev]);
    }, 500);
  }, []);
  const lastMessageRef = useRef<HTMLDivElement>(null);
  useEffect(() => {
    if (state.length === 4) {
      lastMessageRef.current?.scrollIntoView();
    }
  }, [state.length]);
  return <>
      <button onClick={handleNewMessage}>submit message</button>
      <Container>
        <Infinite onFetchMore={handleFetchMore} status={infiniteState} fetchMoreText={"Fetch more"} autoscrollText={"Autoscroll"} reverse>
          <Stack vertical align="stretch" reverse>
            {state.map((message, i) => <div style={{
            overflow: "hidden"
          }} key={message.id} ref={i === 0 ? lastMessageRef : undefined}>
                <h1>
                  Name: {message.name} - {i}
                </h1>
                <p>Email: {message.email}</p>
                <p> {message.message}</p>
                <p> {message.message}</p>
                <p> {message.message}</p>
                <p> {message.message}</p>
              </div>)}
          </Stack>
        </Infinite>
      </Container>
    </>;
}`,...(ut=(ot=K.parameters)==null?void 0:ot.docs)==null?void 0:ut.source}}};var ht,ct,lt;q.parameters={...q.parameters,docs:{...(ht=q.parameters)==null?void 0:ht.docs,source:{originalSource:`() => {
  const [state, setState] = useState(() => fc.sample(messagesArbitary, {
    numRuns: 4,
    seed: 2324
  }));
  const [status, setStatus] = useState<"loading" | "hasNextPage" | "end" | "end-with-force">("hasNextPage");
  const [startStatus, setStartStatus] = useState<"loading" | "hasNextPage" | "end" | "end-with-force">("hasNextPage");
  const [page, setPage] = useState(1);
  const [startPage, setStartPage] = useState(1);
  const handleFetchMore = useCallback(() => {
    if (status === "hasNextPage") {
      setStatus("loading");
      setTimeout(() => {
        if (page > 4) {
          setStatus("end-with-force");
        } else {
          setState(prev => [...prev, ...fc.sample(messagesArbitary, {
            numRuns: 4
          })]);
          setPage(page + 1);
          setTimeout(() => setStatus("hasNextPage"), 100);
        }
      }, 1000);
    }
  }, [page, status]);
  const handleFetchMoreStart = useCallback(() => {
    if (startStatus === "hasNextPage") {
      setStartStatus("loading");
      setTimeout(() => {
        if (startPage > 4) {
          setStartStatus("end-with-force");
        } else {
          setState(prev => [...fc.sample(messagesArbitary, {
            numRuns: 4
          }), ...prev]);
          setStartPage(startPage + 1);
          setTimeout(() => setStartStatus("hasNextPage"), 100);
        }
      }, 1000);
    }
  }, [startPage, startStatus]);
  return <div>
      <Container>
        <ExampleScrollWrapper onFetchMore={handleFetchMore} onFetchMoreStart={handleFetchMoreStart} status={status} startStatus={startStatus}>
          <Stack vertical align="stretch" reverse>
            {state.map((message, i) => <div className="message" style={{
            overflow: "hidden"
          }} key={message.id}>
                <h1>
                  Name: {message.name} - {i + 1 - (startPage - 1) * 4}
                </h1>
                <p>ID: {message.id}</p>
                <p>Email: {message.email}</p>
                <p>{message.message}</p>
              </div>)}
          </Stack>
        </ExampleScrollWrapper>
      </Container>
    </div>;
}`,...(lt=(ct=q.parameters)==null?void 0:ct.docs)==null?void 0:lt.source}}};const cs=["ObserverDiv","Example","ExampleReversed","ExampleReversedWithOffset","ExampleWithSideEffect"];export{$ as Example,z as ExampleReversed,K as ExampleReversedWithOffset,q as ExampleWithSideEffect,U as ObserverDiv,cs as __namedExportsOrder,hs as default};
